<!doctype html><html lang=en><meta charset=UTF-8><meta content="width=device-width" name=viewport><meta content=#222 name=theme-color><meta content="Hexo 7.3.0" name=generator><link crossorigin href=https://cdnjs.cloudflare.com rel=preconnect><link href=/images/apple-touch-icon-next.png rel=apple-touch-icon sizes=180x180><link href=/images/favicon-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><link href=/css/main.css rel=stylesheet><link integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css rel=stylesheet><link integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"cookiehcl.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.25.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"agate","dark":"agate"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":true,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script defer src=/js/config.js></script><meta content="Spatial Variation All materials seen so far are the same everywhere. i.e. BRDF was independent of location on surface. We will allow BRDF to vary over a surface! c.f. Why don't we divide the surface i" name=description><meta content=article property=og:type><meta content=Texture property=og:title><meta content=https://cookiehcl.github.io/posts/75/index.html property=og:url><meta content="기억 저장소" property=og:site_name><meta content="Spatial Variation All materials seen so far are the same everywhere. i.e. BRDF was independent of location on surface. We will allow BRDF to vary over a surface! c.f. Why don't we divide the surface i" property=og:description><meta content=en_US property=og:locale><meta content=https://cookiehcl.github.io/posts/75/bilinear.png property=og:image><meta content=https://cookiehcl.github.io/posts/75/trilinear.png property=og:image><meta content=https://cookiehcl.github.io/posts/75/anisotropic.png property=og:image><meta content=https://cookiehcl.github.io/posts/75/bump_mapping.png property=og:image><meta content=https://cookiehcl.github.io/posts/75/shadow_volume.png property=og:image><meta content=2025-05-08T02:03:04.000Z property=article:published_time><meta content=2025-05-08T02:03:04.000Z property=article:modified_time><meta content=CookieHCl property=article:author><meta content=summary name=twitter:card><meta content=https://cookiehcl.github.io/posts/75/bilinear.png name=twitter:image><link href=https://cookiehcl.github.io/posts/75/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://cookiehcl.github.io/posts/75/","path":"posts/75/","title":"Texture"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>Texture | 기억 저장소</title><script integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin defer src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script defer src=/js/utils.js></script><script defer src=/js/motion.js></script><script defer src=/js/sidebar.js></script><script defer src=/js/next-boot.js></script><script integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin defer src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js></script><script defer src=/js/third-party/search/local-search.js></script><script class=next-config data-name=mermaid type=application/json>{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.10.1/mermaid.min.js","integrity":"sha256-BmQmdWDS8X2OTbrwELWK366LV6escyWhHHe0XCTU/Hk="}}</script><script defer src=/js/third-party/tags/mermaid.js></script><script class=next-config data-name=enableMath type=application/json>true</script><link integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css rel=stylesheet><script class=next-config data-name=katex type=application/json>{"copy_tex_js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js","integrity":"sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="}}</script><script defer src=/js/third-party/math/katex.js></script><noscript><link href=/css/noscript.css rel=stylesheet></noscript><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label="Toggle navigation bar" class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>기억 저장소</p> <i class=logo-line></i> </a></div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=Search role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>About</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>Tags</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>Categories</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>Archives</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>Search </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=Searching... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>Table of Contents<li class=sidebar-nav-overview>Overview</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>1.</span> <span class=nav-text>Spatial Variation</span></a><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>2.</span> <span class=nav-text>Texture Mapping</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#Texture-Coordinates-UV-Coordinates><span class=nav-number>2.1.</span> <span class=nav-text>Texture Coordinates (UV Coordinates)</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Texture-Interpolation><span class=nav-number>2.2.</span> <span class=nav-text>Texture Interpolation</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Aliasing-problem-in-texture><span class=nav-number>2.3.</span> <span class=nav-text>Aliasing problem in texture</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#Magnification><span class=nav-number>2.3.1.</span> <span class=nav-text>Magnification</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Minification><span class=nav-number>2.3.2.</span> <span class=nav-text>Minification</span></a></ol></ol><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>3.</span> <span class=nav-text>Mipmap (Texture pre-filtering)</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#Computing-mipmap-level><span class=nav-number>3.1.</span> <span class=nav-text>Computing mipmap level</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Continuous-mipmap-level><span class=nav-number>3.2.</span> <span class=nav-text>Continuous mipmap level</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Anisotropic-Filtering><span class=nav-number>3.3.</span> <span class=nav-text>Anisotropic Filtering</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>4.</span> <span class=nav-text>Specifying the mapping function</span></a><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>5.</span> <span class=nav-text>Textures other than colors</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#Bump-mapping><span class=nav-number>5.1.</span> <span class=nav-text>Bump mapping</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Normal-mapping><span class=nav-number>5.2.</span> <span class=nav-text>Normal mapping</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Displacement-mapping><span class=nav-number>5.3.</span> <span class=nav-text>Displacement mapping</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Environment-mapping><span class=nav-number>5.4.</span> <span class=nav-text>Environment mapping</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>6.</span> <span class=nav-text>Procedural Textures</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#Perlin-Noise><span class=nav-number>6.1.</span> <span class=nav-text>Perlin Noise</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#Perlin-noise-texture><span class=nav-number>6.1.1.</span> <span class=nav-text>Perlin noise texture</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#Reaction-Diffusion><span class=nav-number>6.2.</span> <span class=nav-text>Reaction-Diffusion</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Texture-Synthesis><span class=nav-number>6.3.</span> <span class=nav-text>Texture Synthesis</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>7.</span> <span class=nav-text>Shadows</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#Planar-Projection-Shadows><span class=nav-number>7.1.</span> <span class=nav-text>Planar Projection Shadows</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Shadow-map><span class=nav-number>7.2.</span> <span class=nav-text>Shadow map</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Shadow-volume><span class=nav-number>7.3.</span> <span class=nav-text>Shadow volume</span></a></ol></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><p class=site-author-name itemprop=name>CookieHCl<div class=site-description itemprop=description></div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>96</span> <span class=site-state-item-name>posts</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>20</span> <span class=site-state-item-name>categories</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub → https://github.com/CookieHCl" href=https://github.com/CookieHCl target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="BOJ → https://www.acmicpc.net/user/CookieHCl" href=https://www.acmicpc.net/user/CookieHCl target=_blank><i class="fa fa-code fa-fw"></i>BOJ</a> </span><span class=links-of-author-item> <a rel="noopener me" title="solved.ac → https://solved.ac/profile/CookieHCl" href=https://solved.ac/profile/CookieHCl target=_blank><i class="fa fa-audio-description fa-fw"></i>solved.ac</a> </span></div><div class="cc-license animated" itemprop=license><a class=cc-opacity href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ko rel=noopener target=_blank><img alt="Creative Commons" src=https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg></a></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=en><link href=https://cookiehcl.github.io/posts/75/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=/images/avatar.gif itemprop=image> <meta content=CookieHCl itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="기억 저장소" itemprop=name> <meta itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="Texture | 기억 저장소" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>Texture</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>Posted on</span> <time itemprop="dateCreated datePublished" title="Created: 2025-05-08 11:03:04" datetime=2025-05-08T11:03:04+09:00>2025-05-08</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>In</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/ itemprop=url rel=index><span itemprop=name>SNU</span></a> </span> , <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/4-1/ itemprop=url rel=index><span itemprop=name>4-1</span></a> </span> , <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/4-1/%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B7%B8%EB%9E%98%ED%94%BD%EC%8A%A4/ itemprop=url rel=index><span itemprop=name>컴퓨터그래픽스</span></a> </span> </span><span title="Reading time" class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>Reading time ≈</span> <span>5 mins.</span> </span></div></div></header><div class=post-body itemprop=articleBody><h1>Spatial Variation</h1><p>All materials seen so far are the same everywhere.<br> i.e. BRDF was independent of location on surface.<p>We will allow BRDF to vary over a surface!<p>c.f. Why don't we divide the surface into lots of triangles with same BRDF?<br> This will make the mesh too complex.<br> We want to distinguish geometric complexity and material complexity.<h1>Texture Mapping</h1><p>Idea: use a mapping from a geometry to an image.<p><span class=katex-display><span class=katex><span class=katex-mathml><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>f</mi><mo>:</mo><mo stretchy=false>(</mo><mi>x</mi><mo separator=true>,</mo><mi>y</mi><mo separator=true>,</mo><mi>z</mi><mo stretchy=false>)</mo><mo>→</mo><mo stretchy=false>(</mo><mi>u</mi><mo separator=true>,</mo><mi>v</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>f: (x,y,z) \rightarrow (u,v) </annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.8889em;vertical-align:-0.1944em;></span><span class="mord mathnormal" style=margin-right:0.10764em;>f</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>:</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class=mopen>(</span><span class="mord mathnormal">x</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>→</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class=mopen>(</span><span class="mord mathnormal">u</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=mclose>)</span></span></span></span></span><p>Mapping is very general!<ul><li>An object can have multiple images<li>Many object can share a single image<li>The same image can be used repeatedly</ul><h2 id=Texture-Coordinates-UV-Coordinates>Texture Coordinates (UV Coordinates)</h2><p>Each vertex stores 2D (u,v) texture coordinates.<br> The values inside of triangles are interpolated by barycentric coordinates.<h2 id=Texture-Interpolation>Texture Interpolation</h2><p>Unfortunately, the interpolated UV coordinate is very likely to be positioned between pixels. (i.e. not integer)<ul><li>Closest: Grab value of the nearest texture pixel (texel).<li>Bilinear: Apply linear interpolation repeatedly.</ul><p><img alt="Bilinear filtering" src=bilinear.png><p><span class=katex-display><span class=katex><span class=katex-mathml><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mtable columnalign="right left" columnspacing=0em rowspacing=0.25em><mtr><mtd><mstyle displaystyle=true scriptlevel=0><mi>s</mi></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><mi>u</mi><mo>−</mo><mi>i</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=true scriptlevel=0><mi>t</mi></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><mi>v</mi><mo>−</mo><mi>j</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=true scriptlevel=0><msub><mi>C</mi><mrow><mi>U</mi><mo separator=true>,</mo><mi>V</mi></mrow></msub></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><mrow><mo fence=true>[</mo><mtable columnalign="center center" columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mn>1</mn><mo>−</mo><mi>t</mi></mrow></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mi>t</mi></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow><mrow><mo fence=true>[</mo><mtable columnalign="center center" columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><msub><mi>C</mi><mrow><mi>i</mi><mo separator=true>,</mo><mi>j</mi></mrow></msub></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><msub><mi>C</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn><mo separator=true>,</mo><mi>j</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><msub><mi>C</mi><mrow><mi>i</mi><mo separator=true>,</mo><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><msub><mi>C</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn><mo separator=true>,</mo><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow><mrow><mo fence=true>[</mo><mtable columnalign=center columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mn>1</mn><mo>−</mo><mi>s</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mi>s</mi></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding=application/x-tex>\begin{align*} s &= u-i \\ t &= v-j \\ C_{U,V} &= \begin{bmatrix} 1-t & t \end{bmatrix}\begin{bmatrix} C_{i,j} & C_{i+1,j} \\ C_{i,j+1} & C_{i+1, j+1} \end{bmatrix}\begin{bmatrix} 1-s \\ s \end{bmatrix} \end{align*}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:5.7em;vertical-align:-2.6em;></span><span class=mord><span class=mtable><span class=col-align-r><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:3.1em;><span style=top:-5.71em;><span class=pstrut style=height:3.45em;></span><span class=mord><span class="mord mathnormal">s</span></span></span><span style=top:-4.21em;><span class=pstrut style=height:3.45em;></span><span class=mord><span class="mord mathnormal">t</span></span></span><span style=top:-2.1em;><span class=pstrut style=height:3.45em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.07153em;>C</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3283em;><span style=top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.10903em;>U</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.22222em;>V</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.6em;><span></span></span></span></span></span><span class=col-align-l><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:3.1em;><span style=top:-5.71em;><span class=pstrut style=height:3.45em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class="mord mathnormal">u</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class="mord mathnormal">i</span></span></span><span style=top:-4.21em;><span class=pstrut style=height:3.45em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class="mord mathnormal" style=margin-right:0.05724em;>j</span></span></span><span style=top:-2.1em;><span class=pstrut style=height:3.45em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size1">[</span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.85em;><span style=top:-3.01em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class="mord mathnormal">t</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.35em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.85em;><span style=top:-3.01em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">t</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.35em;><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size1">]</span></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size3">[</span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.45em;><span style=top:-3.61em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.07153em;>C</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3117em;><span style=top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.05724em;>j</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span><span style=top:-2.41em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.07153em;>C</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3117em;><span style=top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.05724em;>j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.95em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.45em;><span style=top:-3.61em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.07153em;>C</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3117em;><span style=top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.05724em;>j</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span><span style=top:-2.41em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.07153em;>C</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3117em;><span style=top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.05724em;>j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.95em;><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size3">]</span></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size3">[</span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.45em;><span style=top:-3.61em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class="mord mathnormal">s</span></span></span><span style=top:-2.41em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">s</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.95em;><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size3">]</span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.6em;><span></span></span></span></span></span></span></span></span></span></span></span><h2 id=Aliasing-problem-in-texture>Aliasing problem in texture</h2><p>Triangles are projected to 2D screen space.<br> Pixels in screen space will correspond to regions of varying size & location in texture space.<p>We have a aliasing problem: sampling rate is too low.<h3 id=Magnification>Magnification</h3><p>Screen image size is way larger than texture size.<br> e.g. camera is very close to scene object.<p>If closest filtering is used, hard boundaries can be visible.<br> Interpolation should applied to avoid it.<h3 id=Minification>Minification</h3><p>Screen image size is way smaller than texture size.<br> e.g. camera is very far away from scene object.<p>Lets assume the triangle only takes up 1 pixel on the screen. In our texture sampling algorithm, center of the texture space will be sampled instead of average color of the triangle.<br> This will incur aliasing!<h1>Mipmap (Texture pre-filtering)</h1><p>Recall) Nyquist-Shannon Theorem: If signal has no frequencies above some threshold <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>ω</mi></mrow><annotation encoding=application/x-tex>\omega</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.4306em;></span><span class="mord mathnormal" style=margin-right:0.03588em;>ω</span></span></span></span>, the signal can be perfectly reconstructed if sampled with period <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>T</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>ω</mi></mrow></mfrac></mrow><annotation encoding=application/x-tex>T = \frac{1}{2\omega}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.6833em;></span><span class="mord mathnormal" style=margin-right:0.13889em;>T</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:1.1901em;vertical-align:-0.345em;></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8451em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>ω</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.345em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>.<br> Pre-filtering: If we remove signals that have a frequency higher than <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>ω</mi></mrow><annotation encoding=application/x-tex>\omega</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.4306em;></span><span class="mord mathnormal" style=margin-right:0.03588em;>ω</span></span></span></span>, we can perfectly reconstruct signal!<p>In image, downsampling removes high frequency.<p>Idea: store prefiltered (downsampled) images at every possible scale, then choose an appropriate image on the fly.<p>e.g. Mipmap level 0 is 128x128 (original texture),<br> Mipmap level 1 is 64x64,<br> Mipmap level 2 is 32x32, ...<h2 id=Computing-mipmap-level>Computing mipmap level</h2><p><span class=katex-display><span class=katex><span class=katex-mathml><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mtable columnalign="right left" columnspacing=0em rowspacing=0.25em><mtr><mtd><mstyle displaystyle=true scriptlevel=0><msubsup><mi>L</mi><mi>x</mi><mn>2</mn></msubsup></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><msup><mrow><mo fence=true>(</mo><mfrac><mrow><mi>d</mi><mi>u</mi></mrow><mrow><mi>d</mi><mi>x</mi></mrow></mfrac><mo fence=true>)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo fence=true>(</mo><mfrac><mrow><mi>d</mi><mi>v</mi></mrow><mrow><mi>d</mi><mi>x</mi></mrow></mfrac><mo fence=true>)</mo></mrow><mn>2</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=true scriptlevel=0><msubsup><mi>L</mi><mi>y</mi><mn>2</mn></msubsup></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><msup><mrow><mo fence=true>(</mo><mfrac><mrow><mi>d</mi><mi>u</mi></mrow><mrow><mi>d</mi><mi>y</mi></mrow></mfrac><mo fence=true>)</mo></mrow><mn>2</mn></msup><mo>+</mo><msup><mrow><mo fence=true>(</mo><mfrac><mrow><mi>d</mi><mi>v</mi></mrow><mrow><mi>d</mi><mi>y</mi></mrow></mfrac><mo fence=true>)</mo></mrow><mn>2</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=true scriptlevel=0><mi>d</mi></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><msqrt><mrow><mi>max</mi><mo>⁡</mo><mrow><mo fence=true>(</mo><msubsup><mi>L</mi><mi>x</mi><mn>2</mn></msubsup><mo separator=true>,</mo><msubsup><mi>L</mi><mi>y</mi><mn>2</mn></msubsup><mo fence=true>)</mo></mrow></mrow></msqrt></mrow></mstyle></mtd></mtr></mtable><annotation encoding=application/x-tex>\begin{align*} L_x^2 &= \left( \frac{du}{dx} \right)^2 + \left( \frac{dv}{dx} \right)^2 \\ L_y^2 &= \left( \frac{du}{dy} \right)^2 + \left( \frac{dv}{dy} \right)^2 \\ d &= \log_2 \sqrt{\max\left( L_x^2, L_y^2 \right)} \end{align*}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:7.9481em;vertical-align:-3.724em;></span><span class=mord><span class=mtable><span class=col-align-r><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:4.224em;><span style=top:-6.224em;><span class=pstrut style=height:3.654em;></span><span class=mord><span class=mord><span class="mord mathnormal">L</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8641em;><span style=top:-2.453em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span><span style=top:-3.113em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.247em;><span></span></span></span></span></span></span></span></span><span style=top:-3.32em;><span class=pstrut style=height:3.654em;></span><span class=mord><span class=mord><span class="mord mathnormal">L</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8641em;><span style=top:-2.453em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>y</span></span></span><span style=top:-3.113em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.3831em;><span></span></span></span></span></span></span></span></span><span style=top:-0.8026em;><span class=pstrut style=height:3.654em;></span><span class=mord><span class="mord mathnormal">d</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:3.724em;><span></span></span></span></span></span><span class=col-align-l><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:4.224em;><span style=top:-6.224em;><span class=pstrut style=height:3.654em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class=minner><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size3">(</span></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.3714em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">d</span><span class="mord mathnormal">u</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.686em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size3">)</span></span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:1.654em;><span style=top:-3.9029em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span><span class=minner><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size3">(</span></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.3714em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">d</span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.686em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size3">)</span></span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:1.654em;><span style=top:-3.9029em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style=top:-3.32em;><span class=pstrut style=height:3.654em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class=minner><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size3">(</span></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.3714em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">d</span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">d</span><span class="mord mathnormal">u</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.8804em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size3">)</span></span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:1.654em;><span style=top:-3.9029em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span><span class=minner><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size3">(</span></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.3714em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">d</span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">d</span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.8804em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size3">)</span></span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:1.654em;><span style=top:-3.9029em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style=top:-0.8026em;><span class=pstrut style=height:3.654em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class=mop><span class=mop>lo<span style=margin-right:0.01389em;>g</span></span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.207em;><span style=top:-2.4559em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2441em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.1667em;></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.2673em;><span class=svg-align style=top:-3.8em;><span class=pstrut style=height:3.8em;></span><span class=mord style=padding-left:1em;><span class=mop>max</span><span class=mspace style=margin-right:0.1667em;></span><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size1">(</span></span><span class=mord><span class="mord mathnormal">L</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.7401em;><span style=top:-2.453em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span><span style=top:-2.989em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.247em;><span></span></span></span></span></span></span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class=mord><span class="mord mathnormal">L</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.7401em;><span style=top:-2.453em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>y</span></span></span><span style=top:-2.989em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.3831em;><span></span></span></span></span></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size1">)</span></span></span></span></span><span style=top:-3.2273em;><span class=pstrut style=height:3.8em;></span><span class=hide-tail style=min-width:1.02em;height:1.88em;><svg preserveaspectratio="xMinYMin slice" viewbox="0 0 400000 1944" height=1.88em width=400em xmlns=http://www.w3.org/2000/svg><path d="M983 90 l0 -0 c4,-6.7,10,-10,18,-10 H400000v40 H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7 s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744 c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30 c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722 c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5 c53.7,-170.3,84.5,-266.8,92.5,-289.5z M1001 80h400000v40h-400000z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.5727em;><span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:3.724em;><span></span></span></span></span></span></span></span></span></span></span></span><p>where d is mipmap level, and <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>L</mi><mi>x</mi></msub><mo separator=true>,</mo><msub><mi>L</mi><mi>y</mi></msub></mrow><annotation encoding=application/x-tex>L_x, L_y</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.9694em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal">L</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class=mord><span class="mord mathnormal">L</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>y</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span> is the differences in texture space at neighboring pixels in screen space.<p>Since mipmap size is halved each time, we use log scale.<h2 id=Continuous-mipmap-level>Continuous mipmap level</h2><p>If we just use the nearest level, we can get artifacts where level jumps.<br> Instead of clamping the mipmap level to the closest integer, we can use continuous mipmap level.<p><img alt="Trilinear filtering" src=trilinear.png><p>We need a trilinear filtering between two mipmaps.<br> We perform bilinear interpolation independently in each level, then interpolate these two values.<p>Bilinear interpolation need four texel reads and 3 linear interpolations. (3 multiplication + 6 addition)<br> Trilinear interpolation need eight texel reads and 7 linear interpolations. (7 multiplication + 14 addition)<h2 id=Anisotropic-Filtering>Anisotropic Filtering</h2><p><img alt="Anisotropic Filtering" src=anisotropic.png><p>Perspective projection stretches the sample by different amounts along u and v (especially at grazing angle).<p>Solution: Use more mipmap with different ratios!<br> Unfortunately, it requires even more arithmetic and bandwidth than trilinear filtering.<h1>Specifying the mapping function</h1><p>How do we map to the texture coordinate?<p>Some objects have natural parameterizations; e.g. sphere, cylinder.<br> We can use parametric surface as a texture surface.<p>If object is star shaped, we use the point where the rays from the center of the object meet with the outer sphere.<br> Then, outer sphere is mapped with parameterization.<p>Texture mapping can also be created by flattening surfaces.<br> The goal is to minimize distortion; i.e. polygon size shouldn't change a lot.<h1>Textures other than colors</h1><p>Recall) Phong Illumination Model <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>I</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>k</mi><mi>a</mi></msub><msub><mi>I</mi><mi>a</mi></msub><mo>+</mo><mfrac><msub><mi>I</mi><mrow><mi>l</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi></mrow></msub><msup><mi>d</mi><mn>2</mn></msup></mfrac><mo stretchy=false>[</mo><msub><mi>k</mi><mi>d</mi></msub><mi>max</mi><mo>⁡</mo><mo stretchy=false>(</mo><mi>N</mi><mo>⋅</mo><mi>L</mi><mo separator=true>,</mo><mn>0</mn><mo stretchy=false>)</mo><mo>+</mo><msub><mi>k</mi><mi>s</mi></msub><mo stretchy=false>(</mo><mi>R</mi><mo>⋅</mo><mi>V</mi><msup><mo stretchy=false>)</mo><mi>n</mi></msup><mo stretchy=false>]</mo></mrow><annotation encoding=application/x-tex>I_{out} = k_aI_a + \frac{I_{light}}{d^2} [k_d \max(N \cdot L, 0) + k_s (R \cdot V)^n]</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.8333em;vertical-align:-0.15em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.07847em;>I</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.2806em;><span style=top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.8444em;vertical-align:-0.15em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.03148em;>k</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mord><span class="mord mathnormal" style=margin-right:0.07847em;>I</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:1.3364em;vertical-align:-0.345em;></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.9914em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.7463em;><span style=top:-2.786em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.5131em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.07847em;>I</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3448em;><span style=top:-2.3488em;margin-left:-0.0785em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.01968em;>l</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>g</span><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2901em;><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.345em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mopen>[</span><span class=mord><span class="mord mathnormal" style=margin-right:0.03148em;>k</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3361em;><span style=top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=mop>max</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.10903em;>N</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>⋅</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal">L</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class=mord>0</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.03148em;>k</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.00773em;>R</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>⋅</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=mclose><span class=mclose>)</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.6644em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class=mclose>]</span></span></span></span><p>Instead of storing just color <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>k</mi><mi>d</mi></msub></mrow><annotation encoding=application/x-tex>k_d</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.8444em;vertical-align:-0.15em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.03148em;>k</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3361em;><span style=top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span></span>, we can store other material properties, such as <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>k</mi><mi>a</mi></msub><mo separator=true>,</mo><msub><mi>k</mi><mi>s</mi></msub><mo separator=true>,</mo><mi>n</mi></mrow><annotation encoding=application/x-tex>k_a, k_s, n</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.8889em;vertical-align:-0.1944em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.03148em;>k</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.03148em;>k</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal">n</span></span></span></span>.<h2 id=Bump-mapping>Bump mapping</h2><p><img alt="Bump mapping" src=bump_mapping.png><p>How do we make bumpy surface?<ol><li>Real bump: Model the surface with many small polygons.<li>Fake bump: Replace normal vectors before the shading calculation.</ol><p>We use bump map to store the amount of perturbation in the normal direction, (i.e. height variation) then compute normal vectors on the fly based on perturbed geometry.<br> Underlying object is still smooth, but shading looks like bumpy!<h2 id=Normal-mapping>Normal mapping</h2><p>Can't we just save a normal vector?<br> Surface normals are directy saved in RGB channel of texture "image".<h2 id=Displacement-mapping>Displacement mapping</h2><p>Bump/Normal mapping doesn't change the actual geometry, so the deception can easily be broken.<br> e.g. boundary line, shadow is too smooth<p>Instead, we can just store actual displacement from underlying geometry into a texture.<br> We just move pixel directly, so rendering is accurate.<p>Problem: If geometry resolution is too low, aliasing happens.<h2 id=Environment-mapping>Environment mapping</h2><p>Goal: How do we render reflection (without ray tracing)?<p>We compute the reflect vector (using the normal vector and camera view vector). Then, we use the 3D environment texture to determine which color should be shown based on the reflect vector.<h1>Procedural Textures</h1><p>We only need a texture mapping <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>f</mi><mo>:</mo><mo stretchy=false>(</mo><mi>x</mi><mo separator=true>,</mo><mi>y</mi><mo separator=true>,</mo><mi>z</mi><mo stretchy=false>)</mo><mo>→</mo><mtext>color</mtext></mrow><annotation encoding=application/x-tex>f: (x,y,z) \rightarrow \text{color}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.8889em;vertical-align:-0.1944em;></span><span class="mord mathnormal" style=margin-right:0.10764em;>f</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>:</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class=mopen>(</span><span class="mord mathnormal">x</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>→</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.6944em;></span><span class="mord text"><span class=mord>color</span></span></span></span></span>.<br> Do we really need to store into a image?<p>Idea: Directly store texture mapping as a function!<p>Pros: Easy to implement, more compact than texture maps, have infinite resolution (i.e. textures are not affected by image resolution)<br> Cons: Unintuitive, difficult to match existing texture<h2 id=Perlin-Noise>Perlin Noise</h2><p>A pseudo random function with smoothness <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>f</mi><mo>:</mo><msup><mi>R</mi><mi>n</mi></msup><mo>→</mo><mi>R</mi></mrow><annotation encoding=application/x-tex>f: R^n \rightarrow R</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.8889em;vertical-align:-0.1944em;></span><span class="mord mathnormal" style=margin-right:0.10764em;>f</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>:</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.6833em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.00773em;>R</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.6644em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>→</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.6833em;></span><span class="mord mathnormal" style=margin-right:0.00773em;>R</span></span></span></span>.<br> Hollywood movies used perlin noise a lot! Perlin was awarded an Oscar (Academy Award for Technical Achievement) for his work.<p>Idea: Generate random values at grid point, then interpolate smoothly between these values.<br> In 2D, interpolating random value is hard. Instead, we assign a random gradient and compute noise levels by interpolating them.<h3 id=Perlin-noise-texture>Perlin noise texture</h3><p>Instead of using one noise, we can use a mixture of noise with different scales. (i.e. frequency) A scale is also called an <strong>octave</strong>.<ul><li><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mo>∑</mo><mi>f</mi></msub><mfrac><mn>1</mn><msup><mi>f</mi><mi>k</mi></msup></mfrac><mi mathvariant=normal>PNoise</mi><mo>⁡</mo><mo stretchy=false>(</mo><mi>f</mi><mo separator=true>,</mo><mi>x</mi><mo separator=true>,</mo><mi>y</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>\sum_f \frac{1}{f^k} \operatorname{PNoise}(f,x,y)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1.3386em;vertical-align:-0.4935em;></span><span class=mop><span class="mop op-symbol small-op" style=position:relative;top:0em;>∑</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1864em;><span style=top:-2.4003em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4358em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8451em;><span style=top:-2.6426em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.782em;><span style=top:-2.786em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style=margin-right:0.03148em;>k</span></span></span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4935em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=mop><span class="mord mathrm">PNoise</span></span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.10764em;>f</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal">x</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mclose>)</span></span></span></span> looks like cloud<li><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>sin</mi><mo>⁡</mo><mrow><mo fence=true>(</mo><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mi>y</mi><mo>+</mo><msub><mo>∑</mo><mi>f</mi></msub><mfrac><mn>1</mn><msup><mi>f</mi><mi>k</mi></msup></mfrac><mrow><mo fence=true>∣</mo><mi mathvariant=normal>PNoise</mi><mo>⁡</mo><mo stretchy=false>(</mo><mi>f</mi><mo separator=true>,</mo><mi>x</mi><mo separator=true>,</mo><mi>y</mi><mo stretchy=false>)</mo><mo fence=true>∣</mo></mrow><mo fence=true>)</mo></mrow></mrow><annotation encoding=application/x-tex>\sin \left( ax + by + \sum_f \frac{1}{f^k} \left| \operatorname{PNoise}(f,x,y) \right| \right)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1.8em;vertical-align:-0.65em;></span><span class=mop>sin</span><span class=mspace style=margin-right:0.1667em;></span><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size2">(</span></span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span><span class="mord mathnormal">b</span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span><span class=mop><span class="mop op-symbol small-op" style=position:relative;top:0em;>∑</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1864em;><span style=top:-2.4003em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4358em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8451em;><span style=top:-2.6426em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.782em;><span style=top:-2.786em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style=margin-right:0.03148em;>k</span></span></span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4935em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=minner><span class="mopen delimcenter" style=top:0em;>∣</span><span class=mop><span class="mord mathrm">PNoise</span></span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.10764em;>f</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal">x</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mclose>)</span><span class="mclose delimcenter" style=top:0em;>∣</span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size2">)</span></span></span></span></span></span> looks like marble<li><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>sin</mi><mo>⁡</mo><mrow><mo fence=true>(</mo><mi>a</mi><mrow><mo fence=true>∣</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo fence=true>∣</mo></mrow><mo>+</mo><msub><mo>∑</mo><mi>f</mi></msub><mfrac><mn>1</mn><msup><mi>f</mi><mi>k</mi></msup></mfrac><mrow><mo fence=true>∣</mo><mi mathvariant=normal>PNoise</mi><mo>⁡</mo><mo stretchy=false>(</mo><mi>f</mi><mo separator=true>,</mo><mi>x</mi><mo separator=true>,</mo><mi>y</mi><mo stretchy=false>)</mo><mo fence=true>∣</mo></mrow><mo fence=true>)</mo></mrow></mrow><annotation encoding=application/x-tex>\sin \left( a \left| x^2 + y^2 \right| + \sum_f \frac{1}{f^k} \left| \operatorname{PNoise}(f,x,y) \right| \right)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1.8em;vertical-align:-0.65em;></span><span class=mop>sin</span><span class=mspace style=margin-right:0.1667em;></span><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size2">(</span></span><span class="mord mathnormal">a</span><span class=mspace style=margin-right:0.1667em;></span><span class=minner><span class=mopen><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.85em;><span style=top:-2.85em;><span class=pstrut style=height:3.2em;></span><span style=width:0.333em;height:1.200em;><svg viewbox="0 0 333 1200" height=1.200em width=0.333em xmlns=http://www.w3.org/2000/svg><path d="M145 15 v585 v0 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v0 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v0 v585 h43z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.35em;><span></span></span></span></span></span></span><span class=mord><span class="mord mathnormal">x</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.8141em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.8141em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mclose><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.85em;><span style=top:-2.85em;><span class=pstrut style=height:3.2em;></span><span style=width:0.333em;height:1.200em;><svg viewbox="0 0 333 1200" height=1.200em width=0.333em xmlns=http://www.w3.org/2000/svg><path d="M145 15 v585 v0 v585 c2.667,10,9.667,15,21,15 c10,0,16.667,-5,20,-15 v-585 v0 v-585 c-2.667,-10,-9.667,-15,-21,-15 c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v0 v585 h43z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.35em;><span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span><span class=mop><span class="mop op-symbol small-op" style=position:relative;top:0em;>∑</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1864em;><span style=top:-2.4003em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4358em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8451em;><span style=top:-2.6426em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.782em;><span style=top:-2.786em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style=margin-right:0.03148em;>k</span></span></span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4935em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=minner><span class="mopen delimcenter" style=top:0em;>∣</span><span class=mop><span class="mord mathrm">PNoise</span></span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.10764em;>f</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal">x</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mclose>)</span><span class="mclose delimcenter" style=top:0em;>∣</span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size2">)</span></span></span></span></span></span> looks like wood</ul><p>Why? Nobody knows... These are just experimental values.<h2 id=Reaction-Diffusion>Reaction-Diffusion</h2><p>Make texture with diffsuion!<br> e.g. Only prepare texture of head and foot of zebra, then use diffusion to fill rest of texture.<h2 id=Texture-Synthesis>Texture Synthesis</h2><p>Use 2D reference texture and 2D target texture to change 3D reference texture to 3D target texture.<br> We find point on the 2D reference texture, then use corresponding point on the 2D target texture.<h1>Shadows</h1><p>Shadows are essential for rendering photorealistic images.<br> There are many things to consider:<ul><li>Umbra and penumbra (How many light sources are watching a point?)<li>Soft shadows and hard shadows (point light source at a distance vs. area light source nearby)<li>Object-to-object shadows</ul><p>Point light sources make sharp boundaries. Probably we should use sth like Gaussian blur?<h2 id=Planar-Projection-Shadows>Planar Projection Shadows</h2><p>Project object to the ground plane, and just draw black object at ground plane.<p>Problem: If surface is not flat, computing projection is hard.<h2 id=Shadow-map>Shadow map</h2><p>Render twice!<ol><li>Render from the light source to compute Z-buffer.<li>Render from the eye to compute Z-buffer.<li>If depth from light and eye is differnet, this point should be rendered as shadow.</ol><p>Can handle moving objects and lights, and multiple light sources.<h2 id=Shadow-volume>Shadow volume</h2><p><img alt="Shadow volume" src=shadow_volume.png><p>Compute intersection of shadow volume with view frustum.<ol><li>Compute shadow volume: Invisible area behind polygon from point light source.<li>Use stencil buffer to determine whether we are inside or outside of the intersection.<li>+1 if we pass the front face of the intersection.<li>-1 if we pass the back face of the intersection.<li>If stencil buffer is higher than 0, render as a shadow.</ol></div><footer class=post-footer><div class=post-nav><div class=post-nav-item><a title="Efficient LLMs" href=/posts/88/ rel=prev> <i class="fa fa-angle-left"></i> Efficient LLMs </a></div><div class=post-nav-item><a title="High Level Model of Human Behavior" href=/posts/74/ rel=next> High Level Model of Human Behavior <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div><div class="comments utterances-container"></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© 2023 – <span itemprop=copyrightYear>2025</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>CookieHCl</span></div><div class=powered-by>Powered by <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/muse/ rel=noopener target=_blank>NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label="Back to top" class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script class=next-config data-name=utterances type=application/json>{"enable":true,"repo":"CookieHCl/cookiehcl.github.io","issue_term":"pathname","theme":"github-light"}</script><script defer src=/js/third-party/comments/utterances.js></script>