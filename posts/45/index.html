<!doctypehtml><html lang=en><meta charset=UTF-8><meta content=width=device-width name=viewport><meta content=#222 name=theme-color><meta content="Hexo 7.3.0" name=generator><link crossorigin href=https://cdnjs.cloudflare.com rel=preconnect><link href=/images/apple-touch-icon-next.png rel=apple-touch-icon sizes=180x180><link href=/images/favicon-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><link href=/css/main.css rel=stylesheet><link crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css integrity=sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo= rel=stylesheet><link crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css integrity=sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE= rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"cookiehcl.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.22.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":true,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src=/js/config.js></script><meta content="Viewing Pipeline  Modeling Coordinates: Objects are created by their own coordinates. World Coordinates: The objects are placed in the same world coordinate. Viewing Coordinates: Objects are now expre" name=description><meta content=article property=og:type><meta content="Viewing Pipeline" property=og:title><meta content=https://cookiehcl.github.io/posts/45/index.html property=og:url><meta content="기억 저장소" property=og:site_name><meta content="Viewing Pipeline  Modeling Coordinates: Objects are created by their own coordinates. World Coordinates: The objects are placed in the same world coordinate. Viewing Coordinates: Objects are now expre" property=og:description><meta content=en_US property=og:locale><meta content=https://cookiehcl.github.io/posts/45/view_frustrum.png property=og:image><meta content=https://cookiehcl.github.io/posts/45/pinhole_camera.png property=og:image><meta content=https://cookiehcl.github.io/posts/45/pinhole_camera_model.png property=og:image><meta content=https://cookiehcl.github.io/posts/45/multiview_projection.png property=og:image><meta content=https://cookiehcl.github.io/posts/45/axonometric_projection.png property=og:image><meta content=https://cookiehcl.github.io/posts/45/oblique_projection.png property=og:image><meta content=https://cookiehcl.github.io/posts/45/oblique_projection_3d.png property=og:image><meta content=2025-03-18T02:04:25.000Z property=article:published_time><meta content=2025-03-18T02:04:25.000Z property=article:modified_time><meta content=CookieHCl property=article:author><meta content=summary name=twitter:card><meta content=https://cookiehcl.github.io/posts/45/view_frustrum.png name=twitter:image><link href=https://cookiehcl.github.io/posts/45/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://cookiehcl.github.io/posts/45/","path":"posts/45/","title":"Viewing Pipeline"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>Viewing Pipeline | 기억 저장소</title><noscript><link href=/css/noscript.css rel=stylesheet></noscript><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label="Toggle navigation bar" class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>기억 저장소</p> <i class=logo-line></i> </a></div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=Search role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>About</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>Tags</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>Categories</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>Archives</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>Search </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=Searching... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>Table of Contents<li class=sidebar-nav-overview>Overview</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>1.</span> <span class=nav-text>Viewing Pipeline</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#WC-to-VC-Viewing-Transformation><span class=nav-number>1.1.</span> <span class=nav-text>WC to VC (Viewing Transformation)</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#VC-to-NC><span class=nav-number>1.2.</span> <span class=nav-text>VC to NC</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#Projection-Transformation><span class=nav-number>1.2.1.</span> <span class=nav-text>Projection Transformation</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Normalizing-Transformation><span class=nav-number>1.2.2.</span> <span class=nav-text>Normalizing Transformation</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Taxonomy-of-Geometric-Projections><span class=nav-number>1.2.3.</span> <span class=nav-text>Taxonomy of Geometric Projections</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Perspective-Projection><span class=nav-number>1.2.4.</span> <span class=nav-text>Perspective Projection</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#Pinhole-Camera-Model><span class=nav-number>1.2.4.1.</span> <span class=nav-text>Pinhole Camera Model</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Parallel-Projection><span class=nav-number>1.2.5.</span> <span class=nav-text>Parallel Projection</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#Multiview-Projection><span class=nav-number>1.2.5.1.</span> <span class=nav-text>Multiview Projection</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#Axonometric-Projection><span class=nav-number>1.2.5.2.</span> <span class=nav-text>Axonometric Projection</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#Oblique-Projection><span class=nav-number>1.2.5.3.</span> <span class=nav-text>Oblique Projection</span></a></ol></ol><li class="nav-item nav-level-2"><a class=nav-link href=#NC-to-DC-Screen-Transformation><span class=nav-number>1.3.</span> <span class=nav-text>NC to DC (Screen Transformation)</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#Trackball><span class=nav-number>1.3.1.</span> <span class=nav-text>Trackball</span></a></ol></ol></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><p class=site-author-name itemprop=name>CookieHCl<div class=site-description itemprop=description></div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>49</span> <span class=site-state-item-name>posts</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>17</span> <span class=site-state-item-name>categories</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub → https://github.com/CookieHCl" href=https://github.com/CookieHCl target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="BOJ → https://www.acmicpc.net/user/CookieHCl" href=https://www.acmicpc.net/user/CookieHCl target=_blank><i class="fa fa-code fa-fw"></i>BOJ</a> </span><span class=links-of-author-item> <a rel="noopener me" title="solved.ac → https://solved.ac/profile/CookieHCl" href=https://solved.ac/profile/CookieHCl target=_blank><i class="fa fa-audio-description fa-fw"></i>solved.ac</a> </span></div><div class="cc-license animated" itemprop=license><a class=cc-opacity href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ko rel=noopener target=_blank><img alt="Creative Commons" src=https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg></a></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=en><link href=https://cookiehcl.github.io/posts/45/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=/images/avatar.gif itemprop=image> <meta content=CookieHCl itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="기억 저장소" itemprop=name> <meta itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="Viewing Pipeline | 기억 저장소" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>Viewing Pipeline</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>Posted on</span> <time itemprop="dateCreated datePublished" title="Created: 2025-03-18 11:04:25" datetime=2025-03-18T11:04:25+09:00>2025-03-18</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>In</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/ itemprop=url rel=index><span itemprop=name>SNU</span></a> </span> , <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/4-1/ itemprop=url rel=index><span itemprop=name>4-1</span></a> </span> , <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/4-1/%EC%BB%B4%ED%93%A8%ED%84%B0%EA%B7%B8%EB%9E%98%ED%94%BD%EC%8A%A4/ itemprop=url rel=index><span itemprop=name>컴퓨터그래픽스</span></a> </span> </span><span title="Reading time" class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>Reading time ≈</span> <span>5 mins.</span> </span></div></div></header><div class=post-body itemprop=articleBody><h1>Viewing Pipeline</h1><ul><li>Modeling Coordinates: Objects are created by their own coordinates.<li>World Coordinates: The objects are placed in the same world coordinate.<li>Viewing Coordinates: Objects are now expressed relative to camera.<li>Normalized Coordinates: Everything visible to the camera is mapped to unit cube for easy clipping.<li>Device Coordinates: Normalized coordinate (unit-cube) is mapped to the device coordinate.<li>Rasterization: 2D primitives turns into pixels.</ul><h2 id=WC-to-VC-Viewing-Transformation>WC to VC (Viewing Transformation)</h2><p>If the position and orientation of camera are given, everything is done.<br> <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi mathvariant=bold>q</mi><mrow><mi>w</mi><mi>c</mi></mrow></msub><mo>=</mo><mrow><mo fence=true>[</mo><mtable columnalign="center center" columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mi>R</mi></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mi mathvariant=bold>p</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn mathvariant=bold>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow><msub><mi mathvariant=bold>q</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub></mrow><annotation encoding=application/x-tex>\mathbf{q}_{wc} = \begin{bmatrix} R & \mathbf{p} \\ \mathbf{0} & 1 \end{bmatrix}\mathbf{q}_{vc}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.6389em;vertical-align:-0.1944em;></span><span class=mord><span class="mord mathbf">q</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02691em;>w</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:2.4em;vertical-align:-0.95em;></span><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size3">[</span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.45em;><span style=top:-3.61em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.00773em;>R</span></span></span><span style=top:-2.41em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathbf">0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.95em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.45em;><span style=top:-3.61em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathbf">p</span></span></span><span style=top:-2.41em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.95em;><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size3">]</span></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=mord><span class="mord mathbf">q</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span></span> where <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>R</mi></mrow><annotation encoding=application/x-tex>R</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.6833em;></span><span class="mord mathnormal" style=margin-right:0.00773em;>R</span></span></span></span> is camera's rotation matrix and <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi mathvariant=bold>p</mi></mrow><annotation encoding=application/x-tex>\mathbf{p}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.6389em;vertical-align:-0.1944em;></span><span class="mord mathbf">p</span></span></span></span> is camera's position.<p><span class=katex-display><span class=katex><span class=katex-mathml><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo>∴</mo><msub><mi mathvariant=bold>q</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub><mo>=</mo><msup><mrow><mo fence=true>[</mo><mtable columnalign="center center" columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mi>R</mi></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mi mathvariant=bold>p</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn mathvariant=bold>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><msub><mi mathvariant=bold>q</mi><mrow><mi>w</mi><mi>c</mi></mrow></msub><mo>=</mo><msup><mrow><mo fence=true>[</mo><mtable columnalign="center center" columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><msup><mi>R</mi><mi>T</mi></msup></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><msup><mi>R</mi><mi>T</mi></msup><mi mathvariant=bold>p</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn mathvariant=bold>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><msub><mi mathvariant=bold>q</mi><mrow><mi>w</mi><mi>c</mi></mrow></msub><mspace linebreak=newline></mspace><mtable columnalign="right left" columnspacing=0em rowspacing=0.25em><mtr><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mo>∵</mo><msub><mi mathvariant=bold>q</mi><mrow><mi>w</mi><mi>c</mi></mrow></msub></mrow></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><mi>R</mi><msub><mi mathvariant=bold>q</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub><mo>+</mo><mi>p</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=true scriptlevel=0><mrow><msub><mi mathvariant=bold>q</mi><mrow><mi>w</mi><mi>c</mi></mrow></msub><mo>−</mo><mi>p</mi></mrow></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><mi>R</mi><msub><mi mathvariant=bold>q</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=true scriptlevel=0><mrow><msup><mi>R</mi><mi>T</mi></msup><msub><mi mathvariant=bold>q</mi><mrow><mi>w</mi><mi>c</mi></mrow></msub><mo>−</mo><msup><mi>R</mi><mi>T</mi></msup><mi>p</mi></mrow></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><msub><mi mathvariant=bold>q</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding=application/x-tex> \therefore \mathbf{q}_{vc} = \begin{bmatrix} R & \mathbf{p} \\ \mathbf{0} & 1 \end{bmatrix}^{-1}\mathbf{q}_{wc} = \begin{bmatrix} R^T & -R^T\mathbf{p} \\ \mathbf{0} & 1 \end{bmatrix}^{-1}\mathbf{q}_{wc}\\ \begin{align*} \because \mathbf{q}_{wc} &= R\mathbf{q}_{vc} + p \\ \mathbf{q}_{wc} - p &= R\mathbf{q}_{vc} \\ R^T\mathbf{q}_{wc} - R^Tp &= \mathbf{q}_{vc} \\ \end{align*}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.6922em;></span><span class="mrel amsrm">∴</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.6389em;vertical-align:-0.1944em;></span><span class=mord><span class="mord mathbf">q</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:2.604em;vertical-align:-0.95em;></span><span class=minner><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size3">[</span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.45em;><span style=top:-3.61em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.00773em;>R</span></span></span><span style=top:-2.41em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathbf">0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.95em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.45em;><span style=top:-3.61em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathbf">p</span></span></span><span style=top:-2.41em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.95em;><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size3">]</span></span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:1.654em;><span style=top:-3.9029em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=mord><span class="mord mathbf">q</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02691em;>w</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:2.6053em;vertical-align:-0.9507em;></span><span class=minner><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size3">[</span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.4507em;><span style=top:-3.6093em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.00773em;>R</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.8413em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.13889em;>T</span></span></span></span></span></span></span></span></span></span><span style=top:-2.4093em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathbf">0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.9507em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.4507em;><span style=top:-3.6093em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class=mord><span class="mord mathnormal" style=margin-right:0.00773em;>R</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.8413em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.13889em;>T</span></span></span></span></span></span></span></span><span class="mord mathbf">p</span></span></span><span style=top:-2.4093em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.9507em;><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size3">]</span></span></span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:1.6547em;><span style=top:-3.9036em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=mord><span class="mord mathbf">q</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02691em;>w</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class=base><span class=strut style=height:4.5513em;vertical-align:-2.0257em;></span><span class=mord><span class=mtable><span class=col-align-r><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.5257em;><span style=top:-4.6857em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mrel amsrm">∵</span><span class=mspace style=margin-right:0.2778em;></span><span class=mord><span class="mord mathbf">q</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02691em;>w</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span><span style=top:-3.1857em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathbf">q</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02691em;>w</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class="mord mathnormal">p</span></span></span><span style=top:-1.6343em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.00773em;>R</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.8913em;><span style=top:-3.113em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.13889em;>T</span></span></span></span></span></span></span></span><span class=mord><span class="mord mathbf">q</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02691em;>w</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.00773em;>R</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.8913em;><span style=top:-3.113em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.13889em;>T</span></span></span></span></span></span></span></span><span class="mord mathnormal">p</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.0257em;><span></span></span></span></span></span><span class=col-align-l><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.5257em;><span style=top:-4.6857em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class="mord mathnormal" style=margin-right:0.00773em;>R</span><span class=mord><span class="mord mathbf">q</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span><span class="mord mathnormal">p</span></span></span><span style=top:-3.1857em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class="mord mathnormal" style=margin-right:0.00773em;>R</span><span class=mord><span class="mord mathbf">q</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span><span style=top:-1.6343em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class=mord><span class="mord mathbf">q</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.0257em;><span></span></span></span></span></span></span></span></span></span></span></span><p>But usually we only use a look-at direction or a reference position in the scene.<br> This can reduce number of parameters so we don't have to send the whole rotation matrix.<p><span class=katex-display><span class=katex><span class=katex-mathml><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi mathvariant=bold>z</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub><mo>=</mo><mo>−</mo><mfrac><mi mathvariant=bold>w</mi><mrow><mi mathvariant=normal>∣</mi><mi mathvariant=bold>w</mi><mi mathvariant=normal>∣</mi></mrow></mfrac><mtext> or </mtext><msub><mi mathvariant=bold>z</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi mathvariant=bold>p</mi><mo>−</mo><msub><mi mathvariant=bold>p</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub></mrow><mrow><mi mathvariant=normal>∣</mi><mi mathvariant=bold>p</mi><mo>−</mo><msub><mi mathvariant=bold>p</mi><mrow><mi>r</mi><mi>e</mi><mi>f</mi></mrow></msub><mi mathvariant=normal>∣</mi></mrow></mfrac><mspace linebreak=newline></mspace><msub><mi mathvariant=bold>x</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub><mo>=</mo><mfrac><mrow><msub><mi mathvariant=bold>v</mi><mrow><mi>u</mi><mi>p</mi></mrow></msub><mo>×</mo><msub><mi mathvariant=bold>z</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub></mrow><mrow><mi mathvariant=normal>∣</mi><msub><mi mathvariant=bold>v</mi><mrow><mi>u</mi><mi>p</mi></mrow></msub><mi mathvariant=normal>∣</mi></mrow></mfrac><mspace linebreak=newline></mspace><msub><mi mathvariant=bold>y</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub><mo>=</mo><msub><mi mathvariant=bold>z</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub><mo>×</mo><msub><mi mathvariant=bold>x</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub></mrow><annotation encoding=application/x-tex>\mathbf{z}_{vc} = -\frac{\mathbf{w}}{|\mathbf{w}|} \text{ or } \mathbf{z}_{vc}=\frac{\mathbf{p}-\mathbf{p}_{ref}}{|\mathbf{p}-\mathbf{p}_{ref}|} \\ \mathbf{x}_{vc} = \frac{\mathbf{v}_{up} \times \mathbf{z}_{vc}}{|\mathbf{v}_{up}|} \\ \mathbf{y}_{vc} = \mathbf{z}_{vc} \times \mathbf{x}_{vc} </annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.5944em;vertical-align:-0.15em;></span><span class=mord><span class="mord mathbf">z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:2.0574em;vertical-align:-0.936em;></span><span class=mord>−</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.1214em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>∣</span><span class="mord mathbf" style=margin-right:0.01597em;>w</span><span class=mord>∣</span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathbf" style=margin-right:0.01597em;>w</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.936em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord text"><span class=mord> or </span></span><span class=mord><span class="mord mathbf">z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:2.2324em;vertical-align:-0.9721em;></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.2603em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>∣</span><span class="mord mathbf">p</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class=mord><span class="mord mathbf">p</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3361em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mord>∣</span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathbf">p</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class=mord><span class="mord mathbf">p</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3361em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.9721em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class=base><span class=strut style=height:0.5944em;vertical-align:-0.15em;></span><span class=mord><span class="mord mathbf">x</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:2.2324em;vertical-align:-0.9721em;></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.2603em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>∣</span><span class=mord><span class="mord mathbf" style=margin-right:0.01597em;>v</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.016em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mord>∣</span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathbf" style=margin-right:0.01597em;>v</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.016em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>×</span><span class=mspace style=margin-right:0.2222em;></span><span class=mord><span class="mord mathbf">z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.9721em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class=base><span class=strut style=height:0.6389em;vertical-align:-0.1944em;></span><span class=mord><span class="mord mathbf" style=margin-right:0.01597em;>y</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.016em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.7333em;vertical-align:-0.15em;></span><span class=mord><span class="mord mathbf">z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>×</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:0.5944em;vertical-align:-0.15em;></span><span class=mord><span class="mord mathbf">x</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span></span></span><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi mathvariant=bold>v</mi><mrow><mi>u</mi><mi>p</mi></mrow></msub></mrow><annotation encoding=application/x-tex>\mathbf{v}_{up}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.7305em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathbf" style=margin-right:0.01597em;>v</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.016em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span> can be any vector other than one parellel to <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi mathvariant=bold>z</mi><mrow><mi>v</mi><mi>c</mi></mrow></msub></mrow><annotation encoding=application/x-tex>\mathbf{z}_{vc}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.5944em;vertical-align:-0.15em;></span><span class=mord><span class="mord mathbf">z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span></span>, usually chosen as (0,1,0).<h2 id=VC-to-NC>VC to NC</h2><p><span class=katex-display><span class=katex><span class=katex-mathml><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>M</mi><mrow><mi>v</mi><mi>c</mi><mo separator=true>,</mo><mi>n</mi><mi>c</mi></mrow></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>n</mi><mi>o</mi><mi>r</mi><mi>m</mi></mrow></msub><mo>⋅</mo><msub><mi>M</mi><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=application/x-tex>M_{vc,nc} = M_{norm} \cdot M_{proj} </annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.9694em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>M</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.109em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">c</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.8333em;vertical-align:-0.15em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>M</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.109em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight" style=margin-right:0.02778em;>or</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>⋅</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:0.9694em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>M</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3117em;><span style=top:-2.55em;margin-left:-0.109em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">ro</span><span class="mord mathnormal mtight" style=margin-right:0.05724em;>j</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span></span><h3 id=Projection-Transformation>Projection Transformation</h3><p>We want to project all object positions onto view plane (or projection plane).<br> Projection only applies to x, y coordinates, while z (depth) values are kept.<p>Projecting from 3D to 2D all at once is not a good idea!<br> Depth information will be lost, and computing objects that are far distant is inefficient.<p><img alt="View Frustrum" src=view_frustrum.png><p>Instead of rendering every object, we introduce view frustrum.<br> Only objects that are inside view frustrum will be rendered, so we have to only care about a finit viewing volume.<h3 id=Normalizing-Transformation>Normalizing Transformation</h3><p>After projection, view frustrum becomes a cuboid.<br> Normalizing transform maps a cuboid to unit cube <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo stretchy=false>[</mo><mo>−</mo><mn>1</mn><mo separator=true>,</mo><mn>1</mn><msup><mo stretchy=false>]</mo><mn>3</mn></msup></mrow><annotation encoding=application/x-tex>[-1, 1]^3</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1.0641em;vertical-align:-0.25em;></span><span class=mopen>[</span><span class=mord>−</span><span class=mord>1</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class=mord>1</span><span class=mclose><span class=mclose>]</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.8141em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span> (a.k.a. canonical view volume).<ul><li>It makes clippling easier because you can just discard objects outside the cube.<li>It makes manufacturing easier because all manufacturers can assume the normalized coordinates are given as input.</ul><p>To normalize view frustrum, move the center to the origin, and scale height, width, and depth to 2.<br> If the coordinates are given as <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>l</mi><mo separator=true>,</mo><mi>r</mi><mo separator=true>,</mo><mi>t</mi><mo separator=true>,</mo><mi>b</mi><mo separator=true>,</mo><mi>n</mi><mo separator=true>,</mo><mi>f</mi></mrow><annotation encoding=application/x-tex>l, r, t, b, n, f</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.8889em;vertical-align:-0.1944em;></span><span class="mord mathnormal" style=margin-right:0.01968em;>l</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>r</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal">t</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal">b</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal">n</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.10764em;>f</span></span></span></span>, (left, right, top, bottom, near, far) normalizing transformation is:<p><span class=katex-display><span class=katex><span class=katex-mathml><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>M</mi><mrow><mi>n</mi><mi>o</mi><mi>r</mi><mi>m</mi></mrow></msub><mo>=</mo><mrow><mo fence=true>[</mo><mtable columnalign="center center center center" columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mfrac><mn>2</mn><mrow><mi>r</mi><mo>−</mo><mi>l</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><mfrac><mrow><mi>r</mi><mo>+</mo><mi>l</mi></mrow><mrow><mi>r</mi><mo>−</mo><mi>l</mi></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mfrac><mn>2</mn><mrow><mi>t</mi><mo>−</mo><mi>b</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><mfrac><mrow><mi>t</mi><mo>+</mo><mi>b</mi></mrow><mrow><mi>t</mi><mo>−</mo><mi>b</mi></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mfrac><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mi>f</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><mfrac><mrow><mi>n</mi><mo>+</mo><mi>f</mi></mrow><mrow><mi>n</mi><mo>−</mo><mi>f</mi></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow></mrow><annotation encoding=application/x-tex>M_{norm} = \begin{bmatrix} \frac{2}{r-l} & 0 & 0 & -\frac{r+l}{r-l} \\ 0 & \frac{2}{t-b} & 0 & -\frac{t+b}{t-b} \\ 0 & 0 & \frac{2}{n-f} & -\frac{n+f}{n-f} \\ 0 & 0 & 0 & 1 \\ \end{bmatrix}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.8333em;vertical-align:-0.15em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>M</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.109em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight" style=margin-right:0.02778em;>or</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:5.1802em;vertical-align:-2.3401em;></span><span class=minner><span class=mopen><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84 H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.8401em;><span style=top:-4.96em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8451em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02778em;>r</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style=margin-right:0.01968em;>l</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4033em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-3.6766em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-2.341em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-1.0199em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.3401em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.8401em;><span style=top:-4.96em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-3.6766em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8451em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">b</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4033em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-2.341em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-1.0199em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.3401em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.8401em;><span style=top:-4.96em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-3.6766em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-2.341em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8451em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4811em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-1.0199em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.3401em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.8401em;><span style=top:-4.96em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8801em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02778em;>r</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style=margin-right:0.01968em;>l</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02778em;>r</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style=margin-right:0.01968em;>l</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4033em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-3.6766em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8801em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">b</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4033em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-2.341em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.9322em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.4461em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4811em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-1.0199em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.3401em;><span></span></span></span></span></span></span></span><span class=mclose><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span></span></span></span></span></span><h3 id=Taxonomy-of-Geometric-Projections>Taxonomy of Geometric Projections</h3><p>We have multiple choices for <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>M</mi><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>j</mi></mrow></msub></mrow><annotation encoding=application/x-tex>M_{proj}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.9694em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>M</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3117em;><span style=top:-2.55em;margin-left:-0.109em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">ro</span><span class="mord mathnormal mtight" style=margin-right:0.05724em;>j</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span>.<ul><li>Perspective projection <ul><li>One-point perspective (Single-point perspective)<li>Two-point perspective<li>Three-point perspective</ul><li>Parallel projection <ul><li>Orthographic projection <ul><li>Multiview projection<li>Axonometric projection <ul><li>Trimetric projection<li>Dimetric projection<li>Isometric projection</ul></ul><li>Oblique projection <ul><li>Cavalier projection<li>Cabinet projection</ul></ul></ul><h3 id=Perspective-Projection>Perspective Projection</h3><ul><li>Objects look smaller as they get further away<li>Parallel lines (that are not parallel to a view plane) converge at the vanishing point on the horizon <ul><li>Number of vanishing point can be 1, 2, or 3. (a.k.a. One-point, Two-point, Three-point)</ul></ul><h4 id=Pinhole-Camera-Model>Pinhole Camera Model</h4><p><img alt="Pinhole Camera" src=pinhole_camera.png><p>A pinhole camera creates an image by controlling only the light that passes through a pinhole.<p><img alt="Pinhole Camera Model" src=pinhole_camera_model.png><p>Unlike pinhole camera, the view plane in our camera model is located in front of the pinhole. (We don't need to make upside down image!)<br> Pinhole camera model maps coordinate <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo stretchy=false>(</mo><mi>x</mi><mo separator=true>,</mo><mi>y</mi><mo separator=true>,</mo><mi>z</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>(x, y, z)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class=mopen>(</span><span class="mord mathnormal">x</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=mclose>)</span></span></span></span> into <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo fence=true>(</mo><mo>−</mo><mi>d</mi><mfrac><mi>x</mi><mi>z</mi></mfrac><mo separator=true>,</mo><mo>−</mo><mi>d</mi><mfrac><mi>y</mi><mi>z</mi></mfrac><mo separator=true>,</mo><mo>−</mo><mi>d</mi><mo fence=true>)</mo></mrow><annotation encoding=application/x-tex>\left( -d\frac{x}{z}, -d\frac{y}{z}, -d \right)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1.2em;vertical-align:-0.35em;></span><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size1">(</span></span><span class=mord>−</span><span class="mord mathnormal">d</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.6954em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.345em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class=mord>−</span><span class="mord mathnormal">d</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.7475em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.4461em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>y</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.345em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class=mord>−</span><span class="mord mathnormal">d</span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size1">)</span></span></span></span></span></span><br> Look carefully! <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>d</mi><mo>></mo><mn>0</mn></mrow><annotation encoding=application/x-tex>d > 0</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.7335em;vertical-align:-0.0391em;></span><span class="mord mathnormal">d</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>></span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.6444em;></span><span class=mord>0</span></span></span></span> and our projection plane is -d!<p>This mapping is not linear, but it can be represented by a matrix using homogeneous coordinate representation!<p><span class=katex-display><span class=katex><span class=katex-mathml><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mrow><mo fence=true>[</mo><mtable columnalign="center center center center" columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><mfrac><mn>1</mn><mi>d</mi></mfrac></mrow></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow><mrow><mo fence=true>[</mo><mtable columnalign=center columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mi>z</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow><mo>=</mo><mrow><mo fence=true>[</mo><mtable columnalign=center columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mi>z</mi></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><mfrac><mi>z</mi><mi>d</mi></mfrac></mrow></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow><munderover><mo minsize=3.0em stretchy=true>⇒</mo><mpadded lspace=0.3em width=+0.6em><mtext>4th coord.</mtext></mpadded><mpadded lspace=0.3em width=+0.6em><mtext>divide by</mtext></mpadded></munderover><mrow><mo fence=true>[</mo><mtable columnalign=center columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><mi>d</mi><mfrac><mi>x</mi><mi>z</mi></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><mi>d</mi><mfrac><mi>y</mi><mi>z</mi></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><mi>d</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow></mrow><annotation encoding=application/x-tex> \begin{bmatrix} 1 & 0 & 0 & 0 \\ 0 & 1 & 0 & 0 \\ 0 & 0 & 1 & 0 \\ 0 & 0 & -\frac{1}{d} & 0 \end{bmatrix}\begin{bmatrix} x \\ y \\ z \\ 1 \end{bmatrix} = \begin{bmatrix} x \\ y \\ z \\ -\frac{z}{d} \end{bmatrix} \xRightarrow[\text{4th coord.}]{\text{divide by}} \begin{bmatrix} -d\frac{x}{z} \\ -d\frac{y}{z} \\ -d \\ 1 \end{bmatrix} </annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:4.8051em;vertical-align:-2.1526em;></span><span class=minner><span class=mopen><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84 H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.6526em;><span style=top:-4.8126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span><span style=top:-3.6126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-2.4126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-1.2074em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.1526em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.6526em;><span style=top:-4.8126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-3.6126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span><span style=top:-2.4126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-1.2074em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.1526em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.6526em;><span style=top:-4.8126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-3.6126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-2.4126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span><span style=top:-1.2074em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8451em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.345em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.1526em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.6526em;><span style=top:-4.8126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-3.6126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-2.4126em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-1.2074em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.1526em;><span></span></span></span></span></span></span></span><span class=mclose><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.1667em;></span><span class=minner><span class=mopen><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84 H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.81em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">x</span></span></span><span style=top:-3.61em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.03588em;>y</span></span></span><span style=top:-2.41em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.04398em;>z</span></span></span><span style=top:-1.21em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span></span><span class=mclose><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:4.8em;vertical-align:-2.15em;></span><span class=minner><span class=mopen><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84 H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.81em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal">x</span></span></span><span style=top:-3.61em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.03588em;>y</span></span></span><span style=top:-2.41em;><span class=pstrut style=height:3em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.04398em;>z</span></span></span><span style=top:-1.21em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.6954em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.345em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span></span><span class=mclose><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class="mrel x-arrow"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.1271em;><span style=top:-3.341em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">divide by</span></span></span></span></span><span class=svg-align style=top:-2.67em;><span class=pstrut style=height:2.7em;></span><span class=hide-tail style=height:0.56em;min-width:1.526em;><svg preserveaspectratio="xMaxYMin slice" viewbox="0 0 400000 560" height=0.56em width=400em xmlns=http://www.w3.org/2000/svg><path d="M399738 392l -10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88 -33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68 -17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18 -13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782 c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3 -107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z"/></svg></span></span><span style=top:-2.0729em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight x-arrow-pad"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">4th coord.</span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.6271em;><span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:4.8em;vertical-align:-2.15em;></span><span class=minner><span class=mopen><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84 H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.81em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class="mord mathnormal">d</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.6954em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.345em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-3.61em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class="mord mathnormal">d</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.7475em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.4461em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>y</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.345em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-2.41em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class="mord mathnormal">d</span></span></span><span style=top:-1.21em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span></span><span class=mclose><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span></span></span></span></span></span><p>If we assume that the projection plane is the same as the near plane, full perspective matrix looks like this:<p><span class=katex-display><span class=katex><span class=katex-mathml><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>M</mi><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>j</mi></mrow></msub><mo>=</mo><mrow><mo fence=true>[</mo><mtable columnalign="center center center center" columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mfrac><mrow><mn>2</mn><mi>d</mi></mrow><mrow><mi>r</mi><mo>−</mo><mi>l</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mfrac><mrow><mi>r</mi><mo>+</mo><mi>l</mi></mrow><mrow><mi>r</mi><mo>−</mo><mi>l</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mfrac><mrow><mn>2</mn><mi>d</mi></mrow><mrow><mi>t</mi><mo>−</mo><mi>b</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mfrac><mrow><mi>t</mi><mo>+</mo><mi>b</mi></mrow><mrow><mi>t</mi><mo>−</mo><mi>b</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mfrac><mrow><mi>f</mi><mo>+</mo><mi>n</mi></mrow><mrow><mi>n</mi><mo>−</mo><mi>f</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mfrac><mrow><mn>2</mn><mi>d</mi><mi>f</mi></mrow><mrow><mi>n</mi><mo>−</mo><mi>f</mi></mrow></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><mfrac><mn>1</mn><mi>d</mi></mfrac></mrow></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow></mrow><annotation encoding=application/x-tex> M_{proj} = \begin{bmatrix} \frac{2d}{r-l} & 0 & \frac{r+l}{r-l} & 0 \\ 0 & \frac{2d}{t-b} & \frac{t+b}{t-b} & 0 \\ 0 & 0 & \frac{f+n}{n-f} & \frac{2df}{n-f} \\ 0 & 0 & -\frac{1}{d} & 0 \end{bmatrix} </annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.9694em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>M</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3117em;><span style=top:-2.55em;margin-left:-0.109em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">ro</span><span class="mord mathnormal mtight" style=margin-right:0.05724em;>j</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:5.1853em;vertical-align:-2.3427em;></span><span class=minner><span class=mopen><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84 H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.8427em;><span style=top:-4.9625em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8801em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02778em;>r</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style=margin-right:0.01968em;>l</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4033em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-3.6791em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-2.3436em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-1.0173em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.3427em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.8427em;><span style=top:-4.9625em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-3.6791em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8801em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">b</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4033em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-2.3436em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-1.0173em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.3427em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.8427em;><span style=top:-4.9625em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8801em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02778em;>r</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style=margin-right:0.01968em;>l</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02778em;>r</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight" style=margin-right:0.01968em;>l</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4033em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-3.6791em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8801em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">b</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4033em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-2.3436em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.9322em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.4461em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4811em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-1.0173em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.8451em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.394em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.345em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.3427em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.8427em;><span style=top:-4.9625em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-3.6791em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-2.3436em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.9322em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style=margin-right:0.10764em;>f</span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.4461em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style=margin-right:0.10764em;>df</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.4811em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-1.0173em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.3427em;><span></span></span></span></span></span></span></span><span class=mclose><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.65em;><span style=top:-4.65em;><span class=pstrut style=height:6.8em;></span><span style=width:0.667em;height:4.800em;><svg viewbox="0 0 667 4800" height=4.800em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347z M347 1759 V0 H263 V1759 v1200 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.15em;><span></span></span></span></span></span></span></span></span></span></span></span><h3 id=Parallel-Projection>Parallel Projection</h3><ul><li>Objects are projected along the specific direction<li>Object's size does not change in the direction parallel to the view plane<li>You can think as the center of proection (pinhole) is at infinity</ul><h4 id=Multiview-Projection>Multiview Projection</h4><p><img alt="Multiview Projection" src=multiview_projection.png><ul><li>Preserves relative size<li>The direction of projection is parallel to a principle axis of objects<li>The projection plane is perpendicular to the direction of projection</ul><h4 id=Axonometric-Projection>Axonometric Projection</h4><p><img alt="Axonometric Projection" src=axonometric_projection.png><ul><li>Can display more than one face of an object<li>The direction of projection isn't parallel to a principle axis of objects<li>But the projection plane is still perpendicular to the direction of projection</ul><h4 id=Oblique-Projection>Oblique Projection</h4><p><img alt="Oblique Projection" src=oblique_projection.png><ul><li>The projection plane is aligned with one face of the object<li>But the direction of projection isn't perpendicular to the projection plane<li>Typically we choose 30° or 45°</ul><p><img alt="Oblique Projection in 3D" src=oblique_projection_3d.png><p>Let the direction of projection is <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>V</mi><mi>p</mi></msub><mo><mi mathvariant=normal>≔</mi></mo><mo stretchy=false>(</mo><msub><mi>V</mi><mrow><mi>p</mi><mi>x</mi></mrow></msub><mo separator=true>,</mo><msub><mi>V</mi><mrow><mi>p</mi><mi>y</mi></mrow></msub><mo separator=true>,</mo><msub><mi>V</mi><mrow><mi>p</mi><mi>z</mi></mrow></msub><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>V_p \coloneqq (V_{px}, V_{py}, V_{pz})</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.9694em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel><span class=mrel><span class=mop style=position:relative;top:-0.0347em;>:</span></span><span class=mrel><span class=mspace style=margin-right:-0.0667em;></span></span><span class=mrel>=</span></span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:1.0361em;vertical-align:-0.2861em;></span><span class=mopen>(</span><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>y</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mclose>)</span></span></span></span>, and the view plane is <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>z</mi><mo>=</mo><msub><mi>z</mi><mrow><mi>v</mi><mi>p</mi></mrow></msub></mrow><annotation encoding=application/x-tex>z = z_{vp}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.4306em;></span><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.7167em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.044em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span>.<p><span class=katex-display><span class=katex><span class=katex-mathml><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mtable columnalign="right left" columnspacing=0em rowspacing=0.25em><mtr><mtd><mstyle displaystyle=true scriptlevel=0><mfrac><mrow><msub><mi>x</mi><mi>p</mi></msub><mo>−</mo><mi>x</mi></mrow><mrow><msub><mi>z</mi><mrow><mi>v</mi><mi>p</mi></mrow></msub><mo>−</mo><mi>z</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><mfrac><msub><mi>V</mi><mrow><mi>p</mi><mi>x</mi></mrow></msub><msub><mi>V</mi><mrow><mi>p</mi><mi>z</mi></mrow></msub></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=true scriptlevel=0><msub><mi>x</mi><mi>p</mi></msub></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><mi>x</mi><mo>+</mo><mfrac><msub><mi>V</mi><mrow><mi>p</mi><mi>x</mi></mrow></msub><msub><mi>V</mi><mrow><mi>p</mi><mi>z</mi></mrow></msub></mfrac><mo stretchy=false>(</mo><msub><mi>z</mi><mrow><mi>v</mi><mi>p</mi></mrow></msub><mo>−</mo><mi>z</mi><mo stretchy=false>)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=true scriptlevel=0><mrow></mrow></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><mi>x</mi><mo>−</mo><mfrac><msub><mi>V</mi><mrow><mi>p</mi><mi>x</mi></mrow></msub><msub><mi>V</mi><mrow><mi>p</mi><mi>z</mi></mrow></msub></mfrac><mi>z</mi><mo>+</mo><msub><mi>z</mi><mrow><mi>v</mi><mi>p</mi></mrow></msub><mfrac><msub><mi>V</mi><mrow><mi>p</mi><mi>x</mi></mrow></msub><msub><mi>V</mi><mrow><mi>p</mi><mi>z</mi></mrow></msub></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mo>∴</mo><msub><mi>M</mi><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>j</mi></mrow></msub></mrow></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><mrow><mo fence=true>[</mo><mtable columnalign="center center center center" columnspacing=1em rowspacing=0.16em><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><mfrac><msub><mi>V</mi><mrow><mi>p</mi><mi>x</mi></mrow></msub><msub><mi>V</mi><mrow><mi>p</mi><mi>z</mi></mrow></msub></mfrac></mrow></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mrow><msub><mi>z</mi><mrow><mi>v</mi><mi>p</mi></mrow></msub><mfrac><msub><mi>V</mi><mrow><mi>p</mi><mi>x</mi></mrow></msub><msub><mi>V</mi><mrow><mi>p</mi><mi>z</mi></mrow></msub></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mrow><mo>−</mo><mfrac><msub><mi>V</mi><mrow><mi>p</mi><mi>y</mi></mrow></msub><msub><mi>V</mi><mrow><mi>p</mi><mi>z</mi></mrow></msub></mfrac></mrow></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mrow><msub><mi>z</mi><mrow><mi>v</mi><mi>p</mi></mrow></msub><mfrac><msub><mi>V</mi><mrow><mi>p</mi><mi>y</mi></mrow></msub><msub><mi>V</mi><mrow><mi>p</mi><mi>z</mi></mrow></msub></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><msub><mi>z</mi><mrow><mi>v</mi><mi>p</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>0</mn></mstyle></mtd><mtd><mstyle displaystyle=false scriptlevel=0><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence=true>]</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding=application/x-tex>\begin{align*} \frac{x_p-x}{z_{vp}-z} &= \frac{V_{px}}{V_{pz}} \\ x_p &= x + \frac{V_{px}}{V_{pz}}(z_{vp}-z) \\ &= x - \frac{V_{px}}{V_{pz}}z + z_{vp}\frac{V_{px}}{V_{pz}}\\ \therefore M_{proj} &= \begin{bmatrix} 1 & 0 & -\frac{V_{px}}{V_{pz}} & z_{vp}\frac{V_{px}}{V_{pz}} \\ 0 & 1 & -\frac{V_{py}}{V_{pz}} & z_{vp}\frac{V_{py}}{V_{pz}} \\ 0 & 0 & 0 & z_{vp} \\ 0 & 0 & 0 & 1 \end{bmatrix} \end{align*}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:13.6533em;vertical-align:-6.5766em;></span><span class=mord><span class=mtable><span class=col-align-r><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:7.0766em;><span style=top:-10.6943em;><span class=pstrut style=height:4.978em;></span><span class=mord><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.2603em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.044em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class="mord mathnormal" style=margin-right:0.04398em;>z</span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal">x</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class="mord mathnormal">x</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.9721em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-8.0618em;><span class=pstrut style=height:4.978em;></span><span class=mord><span class=mord><span class="mord mathnormal">x</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span><span style=top:-5.4294em;><span class=pstrut style=height:4.978em;></span><span class=mord></span></span><span style=top:-1.1793em;><span class=pstrut style=height:4.978em;></span><span class=mord><span class="mrel amsrm">∴</span><span class=mspace style=margin-right:0.2778em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>M</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3117em;><span style=top:-2.55em;margin-left:-0.109em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">ro</span><span class="mord mathnormal mtight" style=margin-right:0.05724em;>j</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:6.5766em;><span></span></span></span></span></span><span class=col-align-l><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:7.0766em;><span style=top:-10.6943em;><span class=pstrut style=height:4.978em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.3603em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.9721em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-8.0618em;><span class=pstrut style=height:4.978em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class="mord mathnormal">x</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.3603em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.9721em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mopen>(</span><span class=mord><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.044em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=mclose>)</span></span></span><span style=top:-5.4294em;><span class=pstrut style=height:4.978em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class="mord mathnormal">x</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>−</span><span class=mspace style=margin-right:0.2222em;></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.3603em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.9721em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.044em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.3603em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.9721em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-1.1793em;><span class=pstrut style=height:4.978em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class=minner><span class=mopen><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.95em;><span style=top:-4.95em;><span class=pstrut style=height:7.4em;></span><span style=width:0.667em;height:5.400em;><svg viewbox="0 0 667 5400" height=5.400em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M403 1759 V84 H666 V0 H319 V1759 v1800 v1759 h347 v-84 H403z M403 1759 V0 H319 V1759 v1800 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.45em;><span></span></span></span></span></span></span><span class=mord><span class=mtable><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.978em;><span style=top:-4.9923em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span><span style=top:-3.4643em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-2.082em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-0.882em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.478em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.978em;><span style=top:-4.9923em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-3.4643em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span><span style=top:-2.082em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-0.882em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.478em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.978em;><span style=top:-4.9923em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.9857em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1645em;><span style=top:-2.357em;margin-left:-0.2222em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2819em;><span></span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.5073em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1645em;><span style=top:-2.357em;margin-left:-0.2222em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2819em;><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.5423em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-3.4643em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>−</span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.9857em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1645em;><span style=top:-2.357em;margin-left:-0.2222em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2819em;><span></span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.5073em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1645em;><span style=top:-2.357em;margin-left:-0.2222em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>y</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2819em;><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.5423em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-2.082em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span><span style=top:-0.882em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>0</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.478em;><span></span></span></span></span></span><span class=arraycolsep style=width:0.5em;></span><span class=arraycolsep style=width:0.5em;></span><span class=col-align-c><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.978em;><span style=top:-4.9923em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.044em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.9857em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1645em;><span style=top:-2.357em;margin-left:-0.2222em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2819em;><span></span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.5073em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1645em;><span style=top:-2.357em;margin-left:-0.2222em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2819em;><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.5423em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-3.4643em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.044em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.9857em;><span style=top:-2.655em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1645em;><span style=top:-2.357em;margin-left:-0.2222em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.04398em;>z</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2819em;><span></span></span></span></span></span></span></span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.5073em;><span class=pstrut style=height:3em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.22222em;>V</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1645em;><span style=top:-2.357em;margin-left:-0.2222em;margin-right:0.0714em;><span class=pstrut style=height:2.5em;></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>y</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2819em;><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.5423em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style=top:-2.082em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.04398em;>z</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.044em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span><span style=top:-0.882em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>1</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.478em;><span></span></span></span></span></span></span></span><span class=mclose><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.95em;><span style=top:-4.95em;><span class=pstrut style=height:7.4em;></span><span style=width:0.667em;height:5.400em;><svg viewbox="0 0 667 5400" height=5.400em width=0.667em xmlns=http://www.w3.org/2000/svg><path d="M347 1759 V0 H0 V84 H263 V1759 v1800 v1759 H0 v84 H347z M347 1759 V0 H263 V1759 v1800 v1759 h84z"/></svg></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:2.45em;><span></span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:6.5766em;><span></span></span></span></span></span></span></span></span></span></span></span><ul><li>Cavalier projection: <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>tan</mi><mo>⁡</mo><mi>α</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=application/x-tex>\tan \alpha = 1</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.6151em;></span><span class=mop>tan</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.0037em;>α</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.6444em;></span><span class=mord>1</span></span></span></span><li>Cabinet projection: <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>tan</mi><mo>⁡</mo><mi>α</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding=application/x-tex>\tan \alpha = 2</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.6151em;></span><span class=mop>tan</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.0037em;>α</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.6444em;></span><span class=mord>2</span></span></span></span></ul><h2 id=NC-to-DC-Screen-Transformation>NC to DC (Screen Transformation)</h2><p>Now we need to transform unit cube into W x H image (screen).<br> OpenGL has lower-left origin, while Vulkan and Direct3D has upper-left origin with flipped y-aixs.<h3 id=Trackball>Trackball</h3><p>A trackball translates 2D mouse movements into 3D rotations.<br> This is done by projecting the position of the mouse on to an imaginary sphere behind the viewport.<br> To implement this, the camera rotates around an axis perpendicular to the mouse movement.<p><span class=katex-display><span class=katex><span class=katex-mathml><math display=block xmlns=http://www.w3.org/1998/Math/MathML><semantics><mtable columnalign="right left" columnspacing=0em rowspacing=0.25em><mtr><mtd><mstyle displaystyle=true scriptlevel=0><msub><mi>v</mi><mrow><mi>a</mi><mi>x</mi><mi>i</mi><mi>s</mi></mrow></msub></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><msub><mi>v</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mo>×</mo><msub><mi>v</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle displaystyle=true scriptlevel=0><mi>θ</mi></mstyle></mtd><mtd><mstyle displaystyle=true scriptlevel=0><mrow><mrow></mrow><mo>=</mo><mi>arccos</mi><mo>⁡</mo><mrow><mo fence=true>(</mo><mfrac><msub><mi>v</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mrow><mi mathvariant=normal>∣</mi><msub><mi>v</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub><mi mathvariant=normal>∣</mi></mrow></mfrac><mo>⋅</mo><mfrac><msub><mi>v</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mrow><mi mathvariant=normal>∣</mi><msub><mi>v</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mi mathvariant=normal>∣</mi></mrow></mfrac><mo fence=true>)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding=application/x-tex>\begin{align*} v_{axis} &= v_{old} \times v_{new} \\ \theta &= \arccos \left( \frac{v_{old}}{|v_{old}|} \cdot \frac{v_{new}}{|v_{new}|} \right) \end{align*}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:4.2em;vertical-align:-1.85em;></span><span class=mord><span class=mtable><span class=col-align-r><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.35em;><span style=top:-4.96em;><span class=pstrut style=height:3.45em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3117em;><span style=top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span><span style=top:-2.85em;><span class=pstrut style=height:3.45em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.02778em;>θ</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:1.85em;><span></span></span></span></span></span><span class=col-align-l><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:2.35em;><span style=top:-4.96em;><span class=pstrut style=height:3.45em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3361em;><span style=top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style=margin-right:0.01968em;>l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>×</span><span class=mspace style=margin-right:0.2222em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style=margin-right:0.02691em;>w</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span><span style=top:-2.85em;><span class=pstrut style=height:3.45em;></span><span class=mord><span class=mord></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span><span class=mop>arccos</span><span class=mspace style=margin-right:0.1667em;></span><span class=minner><span class="mopen delimcenter" style=top:0em;><span class="delimsizing size3">(</span></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.1076em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>∣</span><span class=mord><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3361em;><span style=top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style=margin-right:0.01968em;>l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mord>∣</span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.3361em;><span style=top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style=margin-right:0.01968em;>l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.936em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>⋅</span><span class=mspace style=margin-right:0.2222em;></span><span class=mord><span class="mopen nulldelimiter"></span><span class=mfrac><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:1.1076em;><span style=top:-2.314em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord>∣</span><span class=mord><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style=margin-right:0.02691em;>w</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mord>∣</span></span></span><span style=top:-3.23em;><span class=pstrut style=height:3em;></span><span class=frac-line style=border-bottom-width:0.04em;></span></span><span style=top:-3.677em;><span class=pstrut style=height:3em;></span><span class=mord><span class=mord><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style=margin-right:0.02691em;>w</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.936em;><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style=top:0em;><span class="delimsizing size3">)</span></span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:1.85em;><span></span></span></span></span></span></span></span></span></span></span></span><p>But... We don't actually use arccos.<ul><li>arccos doesn't know direction<li>arccos isn't used in computing because of stability (absolute value of input might be over 1)</ul><p>Solution: use sin and cos values!<ul><li>Use atan2: <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>θ</mi><mo>=</mo><mtext>atan2</mtext><mo stretchy=false>(</mo><mi mathvariant=normal>∣</mi><mi>A</mi><mo>×</mo><mi>B</mi><mi mathvariant=normal>∣</mi><mo separator=true>,</mo><mi>A</mi><mo>⋅</mo><mi>B</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>\theta = \text{atan2} (|A \times B|, A \cdot B)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.6944em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>θ</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord text"><span class=mord>atan2</span></span><span class=mopen>(</span><span class=mord>∣</span><span class="mord mathnormal">A</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>×</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.05017em;>B</span><span class=mord>∣</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal">A</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>⋅</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.05017em;>B</span><span class=mclose>)</span></span></span></span> <ul><li>atan2's input is not limited, and it has better numerical stability - e.g. can avoid division by zero</ul><li>Construct rotation matrix directly from sin and cos values</ul></div><footer class=post-footer><div class=post-nav><div class=post-nav-item><a href=/posts/47/ rel=prev title=HTTP> <i class="fa fa-angle-left"></i> HTTP </a></div><div class=post-nav-item><a title="Design Process" href=/posts/46/ rel=next> Design Process <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div><div class="comments utterances-container"></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© 2023 – <span itemprop=copyrightYear>2025</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>CookieHCl</span></div><div class=powered-by>Powered by <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/muse/ rel=noopener target=_blank>NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label="Back to top" class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script crossorigin integrity=sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY= src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/sidebar.js></script><script src=/js/next-boot.js></script><script crossorigin integrity=sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc= src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js></script><script src=/js/third-party/search/local-search.js></script><script class=next-config data-name=mermaid type=application/json>{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script><script src=/js/third-party/tags/mermaid.js></script><script class=next-config data-name=enableMath type=application/json>true</script><link crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css integrity=sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM= rel=stylesheet><script class=next-config data-name=katex type=application/json>{"copy_tex_js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js","integrity":"sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="}}</script><script src=/js/third-party/math/katex.js></script><script class=next-config data-name=utterances type=application/json>{"enable":true,"repo":"CookieHCl/cookiehcl.github.io","issue_term":"pathname","theme":"github-light"}</script><script src=/js/third-party/comments/utterances.js></script>