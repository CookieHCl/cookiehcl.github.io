<!doctype html><html lang=en><meta charset=UTF-8><meta content="width=device-width" name=viewport><meta content=#222 name=theme-color><meta content="Hexo 7.3.0" name=generator><link crossorigin href=https://cdnjs.cloudflare.com rel=preconnect><link href=/images/apple-touch-icon-next.png rel=apple-touch-icon sizes=180x180><link href=/images/favicon-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><link href=/css/main.css rel=stylesheet><link integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css rel=stylesheet><link integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"cookiehcl.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":true,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script defer src=/js/config.js></script><meta content="Transport layer Transport layer provide logical communication between application processes running on different hosts. Sender breaks application messages into segments, then passes to network layer." name=description><meta content=article property=og:type><meta content="Multiplexing & UDP" property=og:title><meta content=https://cookiehcl.github.io/posts/55/index.html property=og:url><meta content="기억 저장소" property=og:site_name><meta content="Transport layer Transport layer provide logical communication between application processes running on different hosts. Sender breaks application messages into segments, then passes to network layer." property=og:description><meta content=en_US property=og:locale><meta content=2025-03-31T07:19:54.000Z property=article:published_time><meta content=2025-03-31T07:19:54.000Z property=article:modified_time><meta content=CookieHCl property=article:author><meta content=summary name=twitter:card><link href=https://cookiehcl.github.io/posts/55/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://cookiehcl.github.io/posts/55/","path":"posts/55/","title":"Multiplexing & UDP"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>Multiplexing & UDP | 기억 저장소</title><script integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin defer src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script defer src=/js/utils.js></script><script defer src=/js/motion.js></script><script defer src=/js/sidebar.js></script><script defer src=/js/next-boot.js></script><script integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin defer src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js></script><script defer src=/js/third-party/search/local-search.js></script><script class=next-config data-name=mermaid type=application/json>{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.5.0/mermaid.min.js","integrity":"sha256-2obLuIPcceEhkE3G09G33hBdmE55ivVcZUlcKcGNHjU="}}</script><script defer src=/js/third-party/tags/mermaid.js></script><script class=next-config data-name=enableMath type=application/json>true</script><link integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css rel=stylesheet><script class=next-config data-name=katex type=application/json>{"copy_tex_js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js","integrity":"sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="}}</script><script defer src=/js/third-party/math/katex.js></script><noscript><link href=/css/noscript.css rel=stylesheet></noscript><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label="Toggle navigation bar" class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>기억 저장소</p> <i class=logo-line></i> </a></div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=Search role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>About</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>Tags</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>Categories</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>Archives</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>Search </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=Searching... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>Table of Contents<li class=sidebar-nav-overview>Overview</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>1.</span> <span class=nav-text>Transport layer</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#Transport-layer-and-network-layer><span class=nav-number>1.1.</span> <span class=nav-text>Transport layer and network layer</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Multiplexing-Demultiplexing><span class=nav-number>1.2.</span> <span class=nav-text>Multiplexing & Demultiplexing</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#Transport-header><span class=nav-number>1.2.1.</span> <span class=nav-text>Transport header</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Connectionless-demultiplexing-UDP><span class=nav-number>1.2.2.</span> <span class=nav-text>Connectionless demultiplexing (UDP)</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Connection-oriented-demultiplexing-TCP><span class=nav-number>1.2.3.</span> <span class=nav-text>Connection-oriented demultiplexing (TCP)</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#User-Datagram-Protocol-UDP><span class=nav-number>1.3.</span> <span class=nav-text>User Datagram Protocol (UDP)</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#UDP-segment-header><span class=nav-number>1.3.1.</span> <span class=nav-text>UDP segment header</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#UDP-checksum><span class=nav-number>1.3.2.</span> <span class=nav-text>UDP checksum</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Is-UDP-faster><span class=nav-number>1.3.3.</span> <span class=nav-text>Is UDP faster?</span></a></ol></ol></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><p class=site-author-name itemprop=name>CookieHCl<div class=site-description itemprop=description></div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>69</span> <span class=site-state-item-name>posts</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>17</span> <span class=site-state-item-name>categories</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub → https://github.com/CookieHCl" href=https://github.com/CookieHCl target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="BOJ → https://www.acmicpc.net/user/CookieHCl" href=https://www.acmicpc.net/user/CookieHCl target=_blank><i class="fa fa-code fa-fw"></i>BOJ</a> </span><span class=links-of-author-item> <a rel="noopener me" title="solved.ac → https://solved.ac/profile/CookieHCl" href=https://solved.ac/profile/CookieHCl target=_blank><i class="fa fa-audio-description fa-fw"></i>solved.ac</a> </span></div><div class="cc-license animated" itemprop=license><a class=cc-opacity href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ko rel=noopener target=_blank><img alt="Creative Commons" src=https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg></a></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=en><link href=https://cookiehcl.github.io/posts/55/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=/images/avatar.gif itemprop=image> <meta content=CookieHCl itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="기억 저장소" itemprop=name> <meta itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="Multiplexing & UDP | 기억 저장소" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>Multiplexing & UDP</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>Posted on</span> <time itemprop="dateCreated datePublished" title="Created: 2025-03-31 16:19:54" datetime=2025-03-31T16:19:54+09:00>2025-03-31</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>In</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/ itemprop=url rel=index><span itemprop=name>SNU</span></a> </span> , <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/4-1/ itemprop=url rel=index><span itemprop=name>4-1</span></a> </span> , <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/4-1/%EC%BB%B4%ED%93%A8%ED%84%B0%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/ itemprop=url rel=index><span itemprop=name>컴퓨터네트워크</span></a> </span> </span><span title="Reading time" class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>Reading time ≈</span> <span>2 mins.</span> </span></div></div></header><div class=post-body itemprop=articleBody><h1>Transport layer</h1><p>Transport layer provide logical communication between application processes running on different hosts.<br> Sender breaks application messages into segments, then passes to network layer.<br> Receiver reassembles segments into messages, then passes to application layer.<h2 id=Transport-layer-and-network-layer>Transport layer and network layer</h2><p>Transport layer is communication between processes. (TCP, UDP)<br> Network layer is communication between hosts. (IP, Router)<h2 id=Multiplexing-Demultiplexing>Multiplexing & Demultiplexing</h2><p>Sender sends messages from any application to network layer.<br> This is called multiplexing: Sender handle data from multiple sockets, then send it to single network.<p>Receiver must pass application message to matching application.<br> This is called demultiplexing: Receiver chooses right socket (a.k.a. port number) and pass message to application.<h3 id=Transport-header>Transport header</h3><p>Multiplexing & Demultiplexing is implemented using transport header.<p>Host receives IP datagrams:<br> Each datagram has source IP address and destination IP address.<br> Each datagram carries one trasport-layer segment (i.e. application data with transport header).<br> Each segment has source port number and destination port number.<p>Host uses IP addresses & port number to direct segment to appropriate socket!<h3 id=Connectionless-demultiplexing-UDP>Connectionless demultiplexing (UDP)</h3><p>UDP only needs destination IP address and destination port number.<br> Receiver uses destination IP address and destination port number to direct UDP segment to appropriate socket.<p>IP/UDP datagrams with same destination port number but different source IP address and/or source port numbers will be directed to same socket.<h3 id=Connection-oriented-demultiplexing-TCP>Connection-oriented demultiplexing (TCP)</h3><p>TCP socket is identified by 4-tuple: source IP address, source port number, destination IP address, destination port number. Receiver uses all four values to direct TCP segment to appropriate socket.<p>Each TCP socket is associated with a different connecting client.<br> Destination AND source should be same!<br> Even if packets have same destination port number, it will be demultiplexed to different sockets if their source IP address is different.<h2 id=User-Datagram-Protocol-UDP>User Datagram Protocol (UDP)</h2><ul><li>No connection state<li>Small header size (8 bytes) - almost bare packet!<li>No connection (handshaking), no congestion control <ul><li>But congestion control is necessary, user (application layer) have to do it!<li>UDP has checksum, but its optional...</ul><li>UDP segments may be lost or delivered out-of-order even in best effort service.</ul><p>UDP are used in:<ul><li>Streaming multimedia apps (discarding packet is better than retransmitting)<li>DNS (but DNS can use TCP, UDP, or both)<li>HTTP/3 (HTTP-over-QUIC) (but reliable transfer is needed - application layer has congestion control) <ul><li>Actually Google wanted to make new protocol, but because of backward compatibility, it used UDP + congestion control</ul></ul><h3 id=UDP-segment-header>UDP segment header</h3><ul><li>source port number<li>destination port number<li>length (in bytes, including header)<li>checksum (optional)</ul><h3 id=UDP-checksum>UDP checksum</h3><p>UDP checksum detect errors like flipped bits. It's not error correction code!<p>Sender treat UDP segment (including UDP header and IP addresses) as sequence of 16-bit integers and sum it.<br> Sender set checksum field value as 1's complement of sum. (i.e., if you add checksum to sum, it will be 0) Receiver compute checksum and check if computed checksum equals checksum field value.<p>Theorically, checksum can be correct even if error happens in content (or even in checksum).<br> But these days bit flip rarely happens, and checksum is useful!<br> Also, it is simple so it can be implemented in hardware!<h3 id=Is-UDP-faster>Is UDP faster?</h3><p>Actually, TCP can be faster!<p>UDP only sends limited number of packets at a time.<br> If you're sending huge data, you need to split it into packets and send it.<br> Because of context switching, sending lots of packet in UDP is actually slower than TCP!<br> In TCP, kernel split data into packets so we have less context switching.</div><footer class=post-footer><div class=post-nav><div class=post-nav-item><a href=/posts/54/ rel=prev title=CDN> <i class="fa fa-angle-left"></i> CDN </a></div><div class=post-nav-item><a title="Introduction to Geometry" href=/posts/56/ rel=next> Introduction to Geometry <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div><div class="comments utterances-container"></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© 2023 – <span itemprop=copyrightYear>2025</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>CookieHCl</span></div><div class=powered-by>Powered by <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/muse/ rel=noopener target=_blank>NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label="Back to top" class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script class=next-config data-name=utterances type=application/json>{"enable":true,"repo":"CookieHCl/cookiehcl.github.io","issue_term":"pathname","theme":"github-light"}</script><script defer src=/js/third-party/comments/utterances.js></script>