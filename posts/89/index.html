<!doctype html><html lang=en><meta charset=UTF-8><meta content="width=device-width" name=viewport><meta media="(prefers-color-scheme: light)" content=#222 name=theme-color><meta media="(prefers-color-scheme: dark)" content=#222 name=theme-color><meta content="Hexo 8.1.1" name=generator><link crossorigin href=https://cdnjs.cloudflare.com rel=preconnect><link href=/images/apple-touch-icon-next.png rel=apple-touch-icon sizes=180x180><link href=/images/favicon-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><link href=/css/main.css rel=stylesheet><link integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css rel=stylesheet><link integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"cookiehcl.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.27.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"agate","dark":"agate"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":true,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script defer src=/js/config.js></script><meta content="Network-layer functions  Forwarding: Move packets from router's input to appropriate router output in data plane. Routing: Determine route taken by packets from source to destination in control plane." name=description><meta content=article property=og:type><meta content=Routing property=og:title><meta content=https://cookiehcl.github.io/posts/89/index.html property=og:url><meta content="기억 저장소" property=og:site_name><meta content="Network-layer functions  Forwarding: Move packets from router's input to appropriate router output in data plane. Routing: Determine route taken by packets from source to destination in control plane." property=og:description><meta content=en_US property=og:locale><meta content=https://cookiehcl.github.io/posts/89/route_oscillation.png property=og:image><meta content=2025-05-12T07:27:15.000Z property=article:published_time><meta content=2025-05-12T07:27:15.000Z property=article:modified_time><meta content=CookieHCl property=article:author><meta content=summary name=twitter:card><meta content=https://cookiehcl.github.io/posts/89/route_oscillation.png name=twitter:image><link href=https://cookiehcl.github.io/posts/89/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://cookiehcl.github.io/posts/89/","path":"posts/89/","title":"Routing"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>Routing | 기억 저장소</title><script integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin defer src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script defer src=/js/utils.js></script><script defer src=/js/motion.js></script><script defer src=/js/sidebar.js></script><script defer src=/js/next-boot.js></script><script integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin defer src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js></script><script defer src=/js/third-party/search/local-search.js></script><script class=next-config data-name=mermaid type=application/json>{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.10.1/mermaid.min.js","integrity":"sha256-BmQmdWDS8X2OTbrwELWK366LV6escyWhHHe0XCTU/Hk="}}</script><script defer src=/js/third-party/tags/mermaid.js></script><script class=next-config data-name=enableMath type=application/json>true</script><link integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css rel=stylesheet><script class=next-config data-name=katex type=application/json>{"copy_tex_js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js","integrity":"sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="}}</script><script defer src=/js/third-party/math/katex.js></script><noscript><link href=/css/noscript.css rel=stylesheet></noscript><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label="Toggle navigation bar" class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>기억 저장소</p> <i class=logo-line></i> </a></div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=Search role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>About</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>Tags</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>Categories</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>Archives</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>Search </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=Searching... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>Table of Contents<li class=sidebar-nav-overview>Overview</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>1.</span> <span class=nav-text>Network-layer functions</span></a><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>2.</span> <span class=nav-text>Routing algorithm</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#Dijkstra-s-link-state-routing-algorihm><span class=nav-number>2.1.</span> <span class=nav-text>Dijkstra's link-state routing algorihm</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#Discussion-of-Dijkstra-s-link-state-algorithm><span class=nav-number>2.1.1.</span> <span class=nav-text>Discussion of Dijkstra's link-state algorithm</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Route-oscillation-of-Dijkstra-s-algorithm><span class=nav-number>2.1.2.</span> <span class=nav-text>Route oscillation of Dijkstra's algorithm</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#Bellman-Ford-s-distance-vector-algorithm><span class=nav-number>2.2.</span> <span class=nav-text>Bellman-Ford's distance vector algorithm</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#Discussion-of-Bellman-Ford-s-distance-vector-algorithm><span class=nav-number>2.2.1.</span> <span class=nav-text>Discussion of Bellman-Ford's distance vector algorithm</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Count-to-infinity-problem-of-Bellman-Ford-s-algorithm><span class=nav-number>2.2.2.</span> <span class=nav-text>Count-to-infinity problem of Bellman-Ford's algorithm</span></a></ol></ol><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>3.</span> <span class=nav-text>Scalable routing algorithm</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#Autonomous-systems-AS><span class=nav-number>3.1.</span> <span class=nav-text>Autonomous systems (AS)</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Intra-AS-routing-protocols><span class=nav-number>3.2.</span> <span class=nav-text>Intra-AS routing protocols</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#OSPF-routing><span class=nav-number>3.2.1.</span> <span class=nav-text>OSPF routing</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#Hierarchical-OSPF><span class=nav-number>3.2.2.</span> <span class=nav-text>Hierarchical OSPF</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#Inter-AS-routing-protocols><span class=nav-number>3.3.</span> <span class=nav-text>Inter-AS routing protocols</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#Border-Gateway-Protocol-BGP><span class=nav-number>3.3.1.</span> <span class=nav-text>Border Gateway Protocol (BGP)</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#BGP-path-advertisement><span class=nav-number>3.3.1.1.</span> <span class=nav-text>BGP path advertisement</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#BGP-messages><span class=nav-number>3.3.1.2.</span> <span class=nav-text>BGP messages</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#Policy-based-routing><span class=nav-number>3.3.2.</span> <span class=nav-text>Policy-based routing</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#Hot-potato-routing><span class=nav-number>3.3.2.1.</span> <span class=nav-text>Hot potato routing</span></a></ol></ol></ol><li class="nav-item nav-level-1"><a class=nav-link><span class=nav-number>4.</span> <span class=nav-text>Software-Defined Networking (SDN)</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#Benefits-of-SDN><span class=nav-number>4.1.</span> <span class=nav-text>Benefits of SDN</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#Elements-of-SDN><span class=nav-number>4.2.</span> <span class=nav-text>Elements of SDN</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#OpenFlow-protocol><span class=nav-number>4.3.</span> <span class=nav-text>OpenFlow protocol</span></a></ol></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><p class=site-author-name itemprop=name>CookieHCl<div class=site-description itemprop=description></div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>103</span> <span class=site-state-item-name>posts</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>23</span> <span class=site-state-item-name>categories</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub → https://github.com/CookieHCl" href=https://github.com/CookieHCl target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="BOJ → https://www.acmicpc.net/user/CookieHCl" href=https://www.acmicpc.net/user/CookieHCl target=_blank><i class="fa fa-code fa-fw"></i>BOJ</a> </span><span class=links-of-author-item> <a rel="noopener me" title="solved.ac → https://solved.ac/profile/CookieHCl" href=https://solved.ac/profile/CookieHCl target=_blank><i class="fa fa-audio-description fa-fw"></i>solved.ac</a> </span></div><div class="cc-license animated" itemprop=license><a class=cc-opacity href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ko rel=noopener target=_blank><img alt="Creative Commons" src=https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg></a></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=en><link href=https://cookiehcl.github.io/posts/89/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=/images/avatar.gif itemprop=image> <meta content=CookieHCl itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="기억 저장소" itemprop=name> <meta itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="Routing | 기억 저장소" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>Routing</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>Posted on</span> <time itemprop="dateCreated datePublished" title="Created: 2025-05-12 16:27:15" datetime=2025-05-12T16:27:15+09:00>2025-05-12</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>In</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/ itemprop=url rel=index><span itemprop=name>SNU</span></a> </span> , <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/4-1/ itemprop=url rel=index><span itemprop=name>4-1</span></a> </span> , <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/SNU/4-1/%EC%BB%B4%ED%93%A8%ED%84%B0%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/ itemprop=url rel=index><span itemprop=name>컴퓨터네트워크</span></a> </span> </span><span title="Reading time" class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>Reading time ≈</span> <span>7 mins.</span> </span></div></div></header><div class=post-body itemprop=articleBody><h1>Network-layer functions</h1><ul><li>Forwarding: Move packets from router's input to appropriate router output in data plane.<li>Routing: Determine route taken by packets from source to destination in control plane.</ul><p>Per-router control is a traditional way to implement control plane.<br> Logically centralized control (SDN) is now used.<h1>Routing algorithm</h1><p>Goal: Determine good paths (e.g. least cost, fastest, least congested) from sending hosts to receiving host, through network of routers.<p>We can abstract network into graphs!<br> Cost of direct link can be defined as 1, inverse of bandwidth, or rate of congestion.<ul><li><p>Global: All routers have complete topology, link cost info. Also called <strong>link state</strong> algorithms.</p><li><p>Decentralized: Routers initially only know link costs to attached neighbors, use iterative process of computation by exchanging info with neighbors. Also called <strong>distant vector</strong> algorithms.</p><li><p>Static: Routes change slowly over time</p><li><p>Dynamic: Routes can change quickly, by periodic updates or in response to link cost changes.</p></ul><h2 id=Dijkstra-s-link-state-routing-algorihm>Dijkstra's link-state routing algorihm</h2><ul><li><p>Centralized: All routers have complete topology</p><li><p>Iterative: After k iterations, routers know the least cost path to k destinations</p><li><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>c</mi><mrow><mi>x</mi><mo separator=true>,</mo><mi>y</mi></mrow></msub></mrow><annotation encoding=application/x-tex>c_{x,y}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.7167em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal">c</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>y</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span> is a direct link cost from node x to y, <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>c</mi><mrow><mi>x</mi><mo separator=true>,</mo><mi>y</mi></mrow></msub><mo>=</mo><mi mathvariant=normal>∞</mi></mrow><annotation encoding=application/x-tex>c_{x,y} = \infty</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.7167em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal">c</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>y</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.4306em;></span><span class=mord>∞</span></span></span></span> if x, y is not direct neighbors</p><li><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>D</mi><mo stretchy=false>(</mo><mi>v</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>D(v)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=mclose>)</span></span></span></span> is a current estimate of cost of least-cost-path from source to v.</p><li><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>p</mi><mo stretchy=false>(</mo><mi>v</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>p(v)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal">p</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=mclose>)</span></span></span></span> is a predecessor node along path from source to v.</p><li><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mi>N</mi><mo lspace=0em mathvariant=normal rspace=0em>′</mo></msup></mrow><annotation encoding=application/x-tex>N'</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.7519em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>N</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.7519em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> is a set of nodes whose least-cost-path is known.</p></ul><ol><li><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mi>N</mi><mo lspace=0em mathvariant=normal rspace=0em>′</mo></msup><mo>=</mo><mi>u</mi></mrow><annotation encoding=application/x-tex>N' = {u}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.7519em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>N</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.7519em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.4306em;></span><span class=mord><span class="mord mathnormal">u</span></span></span></span></span><li>For all nodes v, <ul><li>If v is adjacent to u, <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>D</mi><mo stretchy=false>(</mo><mi>v</mi><mo stretchy=false>)</mo><mo>=</mo><msub><mi>c</mi><mrow><mi>u</mi><mo separator=true>,</mo><mi>v</mi></mrow></msub><mo separator=true>,</mo><mi>p</mi><mo stretchy=false>(</mo><mi>v</mi><mo stretchy=false>)</mo><mo>=</mo><mi>u</mi></mrow><annotation encoding=application/x-tex>D(v) = c_{u,v}, p(v) = u</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:1.0361em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal">c</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal">p</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.4306em;></span><span class="mord mathnormal">u</span></span></span></span><li>Else <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>D</mi><mo stretchy=false>(</mo><mi>v</mi><mo stretchy=false>)</mo><mo>=</mo><mi mathvariant=normal>∞</mi><mo separator=true>,</mo><mi>p</mi><mo stretchy=false>(</mo><mi>v</mi><mo stretchy=false>)</mo><mo>=</mo><mtext>NULL</mtext></mrow><annotation encoding=application/x-tex>D(v) = \infty, p(v) = \text{NULL}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class=mord>∞</span><span class=mpunct>,</span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal">p</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.6833em;></span><span class="mord text"><span class=mord>NULL</span></span></span></span></span></ul><li>Loop until <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mi>N</mi><mo lspace=0em mathvariant=normal rspace=0em>′</mo></msup><mo>=</mo><mi>V</mi></mrow><annotation encoding=application/x-tex>N' = V</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.7519em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>N</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.7519em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.6833em;></span><span class="mord mathnormal" style=margin-right:0.22222em;>V</span></span></span></span> <ol><li>Find w not in <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mi>N</mi><mo lspace=0em mathvariant=normal rspace=0em>′</mo></msup></mrow><annotation encoding=application/x-tex>N'</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.7519em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>N</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.7519em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> such that <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>D</mi><mo stretchy=false>(</mo><mi>w</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>D(w)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.02691em;>w</span><span class=mclose>)</span></span></span></span> is a minimum<li>Add w to <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msup><mi>N</mi><mo lspace=0em mathvariant=normal rspace=0em>′</mo></msup></mrow><annotation encoding=application/x-tex>N'</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.7519em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>N</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.7519em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><li>For all nodes v adjacent to w and not in N', <ul><li>If <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>D</mi><mo stretchy=false>(</mo><mi>v</mi><mo stretchy=false>)</mo><mo>></mo><mi>D</mi><mo stretchy=false>(</mo><mi>w</mi><mo stretchy=false>)</mo><mo>+</mo><msub><mi>c</mi><mrow><mi>w</mi><mo separator=true>,</mo><mi>v</mi></mrow></msub></mrow><annotation encoding=application/x-tex>D(v) > D(w) + c_{w,v}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>></span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.02691em;>w</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:0.7167em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal">c</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style=margin-right:0.02691em;>w</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span>, update <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>D</mi><mo stretchy=false>(</mo><mi>v</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>D(v)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=mclose>)</span></span></span></span> and <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>p</mi><mo stretchy=false>(</mo><mi>v</mi><mo stretchy=false>)</mo><mo>=</mo><mi>w</mi></mrow><annotation encoding=application/x-tex>p(v) = w</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal">p</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>v</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:0.4306em;></span><span class="mord mathnormal" style=margin-right:0.02691em;>w</span></span></span></span></ul></ol></ol><h3 id=Discussion-of-Dijkstra-s-link-state-algorithm>Discussion of Dijkstra's link-state algorithm</h3><ul><li>Ties can exist, it's up to implementation.<li>With priority queue, algorithm complexity is <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><mo stretchy=false>(</mo><mi>N</mi><mo>+</mo><mi>M</mi><mo stretchy=false>)</mo><mi>log</mi><mo>⁡</mo><mi>N</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O((N + M) \log N)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>O</span><span class=mopen>((</span><span class="mord mathnormal" style=margin-right:0.10903em;>N</span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.10903em;>M</span><span class=mclose>)</span><span class=mspace style=margin-right:0.1667em;></span><span class=mop>lo<span style=margin-right:0.01389em;>g</span></span><span class=mspace style=margin-right:0.1667em;></span><span class="mord mathnormal" style=margin-right:0.10903em;>N</span><span class=mclose>)</span></span></span></span>.<li>But each router must broadcast its link state information to have complete topology!<br> Efficient broadcast algorithms can broadcast in <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><mi>N</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(N)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>O</span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.10903em;>N</span><span class=mclose>)</span></span></span></span>.<br> Since there are N routers, overall message complexity is <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>O</mi><mo stretchy=false>(</mo><msup><mi>N</mi><mn>2</mn></msup><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>O(N^2)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1.0641em;vertical-align:-0.25em;></span><span class="mord mathnormal" style=margin-right:0.02778em;>O</span><span class=mopen>(</span><span class=mord><span class="mord mathnormal" style=margin-right:0.10903em;>N</span><span class=msupsub><span class=vlist-t><span class=vlist-r><span class=vlist style=height:0.8141em;><span style=top:-3.063em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class=mclose>)</span></span></span></span>. (NOT broadcast time complexity)</ul><h3 id=Route-oscillation-of-Dijkstra-s-algorithm>Route oscillation of Dijkstra's algorithm</h3><p><img alt="Route oscillation" src=route_oscillation.png><p>Unlike in graph theory, real network's link costs depend on traffic volume.<br> If the cost changes because of traffic, route oscillation is possible!<p>One way to <em>reduce</em> oscillation is to broadcast at random time to prevent all routers from broadcasting at the same time.<h2 id=Bellman-Ford-s-distance-vector-algorithm>Bellman-Ford's distance vector algorithm</h2><p>Let <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>c</mi><mrow><mi>x</mi><mo separator=true>,</mo><mi>y</mi></mrow></msub></mrow><annotation encoding=application/x-tex>c_{x,y}</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:0.7167em;vertical-align:-0.2861em;></span><span class=mord><span class="mord mathnormal">c</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>y</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span></span></span></span> is a direct link cost from node x to y, and <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>D</mi><mi>x</mi></msub><mo stretchy=false>(</mo><mi>y</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>D_x(y)</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mclose>)</span></span></span></span> is the cost of least-cost path from x to y.<br> Then, Bellman-Ford (BF) equation states that <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>D</mi><mi>x</mi></msub><mo stretchy=false>(</mo><mi>y</mi><mo stretchy=false>)</mo><mo>=</mo><msub><mrow><mi>min</mi><mo>⁡</mo></mrow><mi>v</mi></msub><mo stretchy=false>(</mo><msub><mi>c</mi><mrow><mi>x</mi><mo separator=true>,</mo><mi>v</mi></mrow></msub><mo>+</mo><msub><mi>D</mi><mi>v</mi></msub><mo stretchy=false>(</mo><mi>y</mi><mo stretchy=false>)</mo><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>D_x(y) = \min_v (c_{x,v} + D_v(y))</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:1.0361em;vertical-align:-0.2861em;></span><span class=mop><span class=mop>min</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mopen>(</span><span class=mord><span class="mord mathnormal">c</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mclose>))</span></span></span></span>.<ol><li>Each router wait for change in local link cost or message from neighbor.<li>When router receives new DV estimate or new local link cost, it recomputes DV estimates using BF equation <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>D</mi><mi>x</mi></msub><mo stretchy=false>(</mo><mi>y</mi><mo stretchy=false>)</mo><mo>=</mo><msub><mrow><mi>min</mi><mo>⁡</mo></mrow><mi>v</mi></msub><mo stretchy=false>(</mo><msub><mi>c</mi><mrow><mi>x</mi><mo separator=true>,</mo><mi>v</mi></mrow></msub><mo>+</mo><msub><mi>D</mi><mi>v</mi></msub><mo stretchy=false>(</mo><mi>y</mi><mo stretchy=false>)</mo><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>D_x(y) = \min_v (c_{x,v} + D_v(y))</annotation></semantics></math></span><span aria-hidden=true class=katex-html><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mclose>)</span><span class=mspace style=margin-right:0.2778em;></span><span class=mrel>=</span><span class=mspace style=margin-right:0.2778em;></span></span><span class=base><span class=strut style=height:1.0361em;vertical-align:-0.2861em;></span><span class=mop><span class=mop>min</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mopen>(</span><span class=mord><span class="mord mathnormal">c</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:0em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.2861em;><span></span></span></span></span></span></span><span class=mspace style=margin-right:0.2222em;></span><span class=mbin>+</span><span class=mspace style=margin-right:0.2222em;></span></span><span class=base><span class=strut style=height:1em;vertical-align:-0.25em;></span><span class=mord><span class="mord mathnormal" style=margin-right:0.02778em;>D</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:0.1514em;><span style=top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;><span class=pstrut style=height:2.7em;></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style=margin-right:0.03588em;>v</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:0.15em;><span></span></span></span></span></span></span><span class=mopen>(</span><span class="mord mathnormal" style=margin-right:0.03588em;>y</span><span class=mclose>))</span></span></span></span>.<li>If DV estimate to any destination has changed, notify other neighbors.<li>After enough iterations, the DV estimate converges to the actual least cost.</ol><h3 id=Discussion-of-Bellman-Ford-s-distance-vector-algorithm>Discussion of Bellman-Ford's distance vector algorithm</h3><ul><li>Unlike LS(link-state) algorithm, we don't know actual path to the destination.<li>Unlike LS algorithm, we don't have a fixed time complexity because convergence time varies.<li>Iterative, asynchronous: Each local iteration is caused by local link cost change or DV update message from neighbor.<li>Distributed, self-stopping: Each node notifies neighbors only if necessary. (i.e. only when its DV changes)<li>Less robustness: If router malfunctions, LS algorihm only advertises incorrect link cost, and each router computes only its own table.<br> However, DV algorithm advertises incorrect path cost, and each router's table is used by others, so error propagate through the network.</ul><h3 id=Count-to-infinity-problem-of-Bellman-Ford-s-algorithm>Count-to-infinity problem of Bellman-Ford's algorithm</h3><p>Good news travels fast - reduced link cost require only few iterations.<br> Bad news travels slow - increased link cost require many iterations.<p>Count-to-infinity problem: For one iteration, the path cost can increase by up to the direct link cost. If link cost has increased much more than the smallest direct link cost, it will take much more iteration to converge to the actual least cost.<br> Even worse, if a link is disconnected resulting in a new link cost of infinity, these routers will count up to infinity!<p>Solution: If DV estimate is updated by z's DV estimate, do not broadcast DV estimate update to z.<h1>Scalable routing algorithm</h1><p>We can have billions of destinations in practice, routing table exchange would swamp links! In fact, we can't even store all destinations in routing tables.<h2 id=Autonomous-systems-AS>Autonomous systems (AS)</h2><p>We aggregate routers into regions known as autonomous systems. (a.k.a. domains)<ul><li>Intra-AS (a.k.a. intra-domain): Routing among within same AS<br> All routers in AS must run same intra-domain protocol.<br> We have a gateway router at edge of its own AS, which has links to routers in otehr AS'es.<li>Inter-AS (a.k.a. inter-domain): Routing among AS'es <ul><li>Gateway routers perform inter-domain routing as well as intra-domain routing.</ul></ul><p>Forwarding table is configured by intra-AS and inter-AS routing algorithms.<br> Intra-AS routing determine entries for destinations within AS.<br> Inter-AS routing & intra-AS routing determine entries for external destinations.<p>Why differentiate intra-AS and inter-AS?<br> Intra-AS have single admin, so policy is less of an issue, and we can focus on performance.<br> Inter-AS have multiple admins that wants to control over how its traffic is routed, so policy dominates over performance.<h2 id=Intra-AS-routing-protocols>Intra-AS routing protocols</h2><ul><li>RIP (Routing Information Protocol) <ul><li>Classic DV algorithm, with DVs exchanged every 30 seconds.<li>No longer widely used.</ul><li>EIGRP (Enhanced Interior Gateway Routing Protocol) <ul><li>Better DV based algorithm!<li>Formerly Cisco-proprietary, became open in 2013.</ul><li>OSPF (Open Shortest Path First) <ul><li>Classic LS algorithm<li>ISO standard IS-IS (Intermediate System to Intermediate System) protocol is same as OSPF. (c.f. OSPF is RFC standard)</ul></ul><h3 id=OSPF-routing>OSPF routing</h3><ol><li>Each router floods OSPF link-state advertisements to all other outers directly over IP (rather than using TCP/UDP)<li>Each router has full topology, so we use Dijkstra's algorithm to compute forwarding table.</ol><ul><li>Multiple link costs metrics possible. e.g. bandwidth, delay<li>To ensure security, all OSPF messages are authenticated to prevent malicious intrusion.</ul><h3 id=Hierarchical-OSPF>Hierarchical OSPF</h3><p>Two-level hierarchy is used to prevent route oscillation from spreading throughout the entire network.<br> Hierarchy also helps us to reduce number of routers to compute distances!<ul><li>Backbone is connected to areas and other ASes. <ul><li>Boundary router connects to other Ases.<li>Backbone router runs OSPF limited to backbone.</ul><li>Area is only connected to backbone. <ul><li>Local routers flood LS only in its area, and compute routing within its area.<li>Area border routers summarize distances to destinations in own area, and advertise in backbone.</ul><li>Link-state advertisements is flooded only in area or backbone.<li>Each node has detailed area topology, but only knows direction to reach other destinations.</ul><h2 id=Inter-AS-routing-protocols>Inter-AS routing protocols</h2><p>BGP (Border Gateway Protocol) is the de facto inter-domain routing protocol.<br> Subnets can advertise its existence, and the destinations it can reach to rest of the internet.<h3 id=Border-Gateway-Protocol-BGP>Border Gateway Protocol (BGP)</h3><p>BGP shares reachability, not cost!<ul><li>eBGP: Obtain subnet reachability information from neighboring ASes<li>iBGP: Propagate reachability information to all AS-internal routers.</ul><h4 id=BGP-path-advertisement>BGP path advertisement</h4><p>A BGP advertised route consists of a prefix and its attributes.<br> Prefix contains destination being advertised.<br> Attribute <em>AS-PATH</em> contains list of ASes through which prefix advertisement has passeed.<br> Attribute <em>NEXT-HOP</em> contains specific internal-AS router to next-hop AS.<p>eg. AS X advertises path <em>AS X, a</em> to AS Y gateway using eBGP. (i.e. AS X promises to AS Y that it will forward datagrams towards a.)<br> AS Y propagates path <em>AS X, a</em> to all AS Y routers using iBGP.<p>To prevent loop, AS doesn't advertise route if path contains itself.<br> If every BGP router do the same, loop won't be advertised.<h4 id=BGP-messages>BGP messages</h4><p>BGP session: Two BGP routers exchange BGP messages over semi-permanent TCP connection.<br> Gateway routers are directly connected, so we can use TCP connection.<ul><li>OPEN: Opens TCP connection to remote BGP peer and authenticates sending BGP peer<li>UPDATE: Advertises new path (or withdraws old path)<li>KEEPALIVE: Keeps connection alive in absence of UPDATES. Also used to acknowledge OPEN request.<li>NOTIFICATION: Reports errors in previous message. Also used to close connection.</ul><h3 id=Policy-based-routing>Policy-based routing</h3><p>BGP is policy-based routing!<br> AS receiving route advertisement uses import policy to accept/decline path.<br> If AS received multiple paths to destination, it can choose any specific path.<br> AS can also determine whether to advertise received path to other neighboring ASes.<p>c.f. Why wouldn't AS help each other?<br> Becuase AS didn't pay other AS...<br> <s>By following path advertisement, you can see the money flow between ASes.</s><p>e.g. If customer is dual-homed (i.e. attached to two networks), customer won't want provider network to route via them.<br> Therefore, customer network don't advertise route to provider network.<h4 id=Hot-potato-routing>Hot potato routing</h4><p>Routers chooses local gateway that has least intra-domain cost.<br> Why? AS is greedy... Don't care about inter-domain cost!<h1>Software-Defined Networking (SDN)</h1><p>Internet network layer was historically implemented via distributed, per-router control approach.<br> Monolithic router contains switching hardware, runs proprietary implementation of internet standrad protocols in proprietary router OS.<br> Different middleboxes are used for different network layer functions.<p>But internet network layer is being rethought as a network control plane.<ul><li>Per-router control plane: Individual routing algorithm components are in each and every routers.<li>SDN control plane: Remote controller computes, installs forwarding tables in routers.</ul><p>SDN analogy made manifactures to use open interfaces instead of specialized applications, OS, and hardware!<h2 id=Benefits-of-SDN>Benefits of SDN</h2><ul><li>Easier network management: Avoid router misconfigurations, greater flexibility of traffic flows.<li>Table-based forwarding allows programming routers. <ul><li>Centralized programming is easier because we can compute tables centrally and distribute it.<li>Distributed programming is harder because we should compute tables as a result of distributed algorithm implemented in each router.</ul><li>Can perform complex traffic engineering. <ul><li>If we want to use different route, we had to redefine link weights so traffic routing algorithm computes to different routes.<li>If we want to split traffic to multiple routes, we had to use new routing algorithm.<li>If we want to route differently based on source, we can't do this with destination-based forwarding.</ul></ul><h2 id=Elements-of-SDN>Elements of SDN</h2><ul><li>Data-plane switches <ul><li>Fast, simple, commodity switches implementing generalized data-plane forwarding in hardware<li>Flow (forwarding) table is computed and installed under controller supervison<li>API for table-based switch control (e.g. OpenFlow)<li>Protocol for communicating with controller</ul><li>SDN controller (network OS) <ul><li>Maintain network state information e.g. state of network links, switches, services<li>Interacts with network control applications above via northbound API<li>Interacts with network switches below via southbound API<li>Implemented as distributed system for performance, scalability, fault-tolerance, and robustness</ul><li>Network-control applications <ul><li>Implement control functions using lower-level services, API provided by SDN controller<li>Can be provided by third party, e.g. other than routing vendor, or DSN controller</ul></ul><h2 id=OpenFlow-protocol>OpenFlow protocol</h2><ul><li>Operates between controller and switch<li>Use TCP to exchange messages (encryption is optional) <ul><li>Controller-to-switch<li>Asynchronous (switch-to-controller)<li>Symmetric</ul><li>Distinct from OpenFlow API</ul></div><footer class=post-footer><div class=post-nav><div class=post-nav-item><a title="High Level Model of Human Behavior" href=/posts/74/ rel=prev> <i class="fa fa-angle-left"></i> High Level Model of Human Behavior </a></div><div class=post-nav-item><a title="Conceptual Frameworks" href=/posts/76/ rel=next> Conceptual Frameworks <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div><div class="comments utterances-container"></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© 2023 – <span itemprop=copyrightYear>2026</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>CookieHCl</span></div><div class=powered-by>Powered by <a href=https://hexo.io/ rel=noopener target=_blank>Hexo</a> & <a href=https://theme-next.js.org/muse/ rel=noopener target=_blank>NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label="Back to top" class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script class=next-config data-name=utterances type=application/json>{"enable":true,"repo":"CookieHCl/cookiehcl.github.io","issue_term":"pathname","theme":"github-light"}</script><script defer src=/js/third-party/comments/utterances.js></script>